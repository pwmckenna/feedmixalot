function g(a){throw a;}var i=void 0,k=!0,m=null,n=!1;function aa(a){return function(){return this[a]}}function p(a){return function(){return a}}var r,ba=this;function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function s(a){return a!==i}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){var b=typeof a;return"object"==b&&a!=m||"function"==b}Math.floor(2147483648*Math.random()).toString(36);function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return w.apply(m,arguments)}function ja(a,b){function c(){}c.prototype=b.prototype;a.Od=b.prototype;a.prototype=new c};function ka(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function la(){this.Yb=i}
function ma(a,b,c){switch(typeof b){case "string":na(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==m){c.push("null");break}if("array"==da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],ma(a,a.Yb?a.Yb.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),
na(f,c),c.push(":"),ma(a,a.Yb?a.Yb.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:g(Error("Unknown type: "+typeof b))}}var oa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},pa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function na(a,b){b.push('"',a.replace(pa,function(a){if(a in oa)return oa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return oa[a]=e+b.toString(16)}),'"')};function qa(a){return"undefined"!==typeof JSON&&s(JSON.parse)?JSON.parse(a):ka(a)}function y(a){if("undefined"!==typeof JSON&&s(JSON.stringify))a=JSON.stringify(a);else{var b=[];ma(new la,a,b);a=b.join("")}return a};function ra(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,z(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};function A(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);e&&g(Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+"."))}function B(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:sa.assert(n,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")}
function D(a,b,c,d){(!d||s(c))&&"function"!=da(c)&&g(Error(B(a,b,d)+"must be a valid function."))}function ta(a,b,c){s(c)&&(!ga(c)||c===m)&&g(Error(B(a,b,k)+"must be a valid context object."))};var ua={},sa={},va=/[\[\].#$\/]/,wa=/[\[\].#$]/;function xa(a){return u(a)&&0!==a.length&&!va.test(a)}function ya(a,b,c){(!c||s(b))&&za(B(a,1,c),b)}
function za(a,b,c,d){c||(c=0);d||(d=[]);s(b)||g(Error(a+"contains undefined"+Aa(d)));"function"==da(b)&&g(Error(a+"contains a function"+Aa(d)));Ba(b)&&g(Error(a+"contains "+b.toString()+Aa(d)));1E3<c&&g(new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)"));u(b)&&(b.length>10485760/3&&10485760<ua.Pd.Nd(b).length)&&g(Error(a+"contains a string greater than 10485760 utf8 bytes"+Aa(d)+" ('"+b.substring(0,50)+"...')"));if(ga(b))for(var e in b)b.hasOwnProperty(e)&&(".priority"!==
e&&(".value"!==e&&!xa(e))&&g(Error(a+"contains an invalid key ("+e+")"+Aa(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),d.push(e),za(a,b[e],c+1,d),d.pop())}function Aa(a){return 0==a.length?"":" in property "+a.join(".")}function Ca(a,b,c,d){(!d||s(c))&&(c!==m&&!fa(c)&&!u(c))&&g(Error(B(a,b,d)+"must be a valid firebase priority (null or a string.)"))}
function Da(a,b,c){if(!c||s(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:g(Error(B(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}function Ea(a,b){s(b)&&!xa(b)&&g(Error(B(a,2,k)+'must be a valid firebase key (non-empty string, not containing ".", "#", "$", "/", "[", or "]").'))}
function Fa(a,b){(!u(b)||0===b.length||wa.test(b))&&g(Error(B(a,1,n)+'must be a non-empty string and can\'t contain ".", "#", "$", "[", or "]".'))}function Ga(a,b){".info"===E(b)&&g(Error(a+" failed: Can't modify data under /.info/"))};function F(a,b,c,d,e,f,h){this.n=a;this.path=b;this.va=c;this.aa=Ha.test(d)?Number(d):d;this.na=e;this.ta=Ha.test(f)?Number(f):f;this.Ra=h;s(this.aa)&&(s(this.ta)&&s(this.va))&&g("Query: Can't combine startAt(), endAt(), and limit().")}F.prototype.nc=function(a,b){A("Query.on",2,4,arguments.length);Da("Query.on",a,n);D("Query.on",2,b,n);var c=Ia("Query.on",arguments[2],arguments[3]);this.n.Bb(this,a,b,c.cancel,c.V);return b};F.prototype.on=F.prototype.nc;
F.prototype.Kb=function(a,b,c){A("Query.off",0,3,arguments.length);Da("Query.off",a,k);D("Query.off",2,b,k);ta("Query.off",3,c);this.n.Xb(this,a,b,c)};F.prototype.off=F.prototype.Kb;F.prototype.zd=function(a,b){function c(h){f&&(f=n,e.Kb(a,c),b.call(d.V,h))}A("Query.once",2,4,arguments.length);Da("Query.once",a,n);D("Query.once",2,b,n);var d=Ia("Query.once",arguments[2],arguments[3]),e=this,f=k;this.nc(a,c,function(){e.Kb(a,c);d.cancel&&d.cancel.call(d.V)})};F.prototype.once=F.prototype.zd;
F.prototype.rd=function(a){A("Query.limit",1,1,arguments.length);(!fa(a)||Math.floor(a)!==a||0>=a)&&g("Query.limit: First argument must be a positive integer.");return new F(this.n,this.path,a,this.aa,this.na,this.ta,this.Ra)};F.prototype.limit=F.prototype.rd;F.prototype.Jd=function(a,b){A("Query.startAt",0,2,arguments.length);Ca("Query.startAt",1,a,k);Ea("Query.startAt",b);s(a)||(b=a=m);return new F(this.n,this.path,this.va,a,b,this.ta,this.Ra)};F.prototype.startAt=F.prototype.Jd;
F.prototype.ld=function(a,b){A("Query.endAt",0,2,arguments.length);Ca("Query.endAt",1,a,k);Ea("Query.endAt",b);return new F(this.n,this.path,this.va,this.aa,this.na,a,b)};F.prototype.endAt=F.prototype.ld;function Ja(a){var b={};s(a.aa)&&(b.sp=a.aa);s(a.na)&&(b.sn=a.na);s(a.ta)&&(b.ep=a.ta);s(a.Ra)&&(b.en=a.Ra);s(a.va)&&(b.l=a.va);s(a.aa)&&(s(a.na)&&a.aa===m&&a.na===m)&&(b.vf="l");return b}F.prototype.Ha=function(){var a=Ka(Ja(this));return"{}"===a?"default":a};
function Ia(a,b,c){var d={};b&&c?(d.cancel=b,D(a,3,d.cancel,k),d.V=c,ta(a,4,d.V)):b&&("object"===typeof b&&b!==m?d.V=b:"function"===typeof b?d.cancel=b:g(Error(B(a,3,k)+"must either be a cancel callback or a context object.")));return d};function G(a,b){for(var c in a)b.call(i,a[c],c,a)};function H(a){if(a instanceof H)return a;if(1==arguments.length){this.j=a.split("/");for(var b=0,c=0;c<this.j.length;c++)0<this.j[c].length&&(this.j[b]=this.j[c],b++);this.j.length=b;this.T=0}else this.j=arguments[0],this.T=arguments[1]}function E(a){return a.T>=a.j.length?m:a.j[a.T]}function La(a){var b=a.T;b<a.j.length&&b++;return new H(a.j,b)}r=H.prototype;r.toString=function(){for(var a="",b=this.T;b<this.j.length;b++)""!==this.j[b]&&(a+="/"+this.j[b]);return a||"/"};
r.parent=function(){if(this.T>=this.j.length)return m;for(var a=[],b=this.T;b<this.j.length-1;b++)a.push(this.j[b]);return new H(a,0)};r.A=function(a){for(var b=[],c=this.T;c<this.j.length;c++)b.push(this.j[c]);if(a instanceof H)for(c=a.T;c<a.j.length;c++)b.push(a.j[c]);else{a=a.split("/");for(c=0;c<a.length;c++)0<a[c].length&&b.push(a[c])}return new H(b,0)};r.e=function(){return this.T>=this.j.length};
function Oa(a,b){var c=E(a);if(c===m)return b;if(c===E(b))return Oa(La(a),La(b));g("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}r.contains=function(a){var b=0;if(this.j.length>a.j.length)return n;for(;b<this.j.length;){if(this.j[b]!==a.j[b])return n;++b}return k};function Pa(){this.children={};this.Cb=0;this.value=m}function Qa(a,b,c){this.Hb=a?a:"";this.qb=b?b:m;this.m=c?c:new Pa}r=Qa.prototype;r.A=function(a){return a in this.m.children?this.m.children[a]:m};function I(a,b){for(var c=b instanceof H?b:new H(b),d=a,e;(e=E(c))!==m;)d=new Qa(e,d,e in d.m.children?d.m.children[e]:new Pa),c=La(c);return d}r.i=function(){return this.m.value};function J(a,b){z("undefined"!==typeof b);a.m.value=b;Ra(a)}
r.clear=function(){this.m.value=m;this.m.children={};this.m.Cb=0;Ra(this)};r.Gb=function(){return 0<this.m.Cb};r.e=function(){return this.i()===m&&!this.Gb()};r.z=function(a){for(var b in this.m.children)a(new Qa(b,this,this.m.children[b]))};function Sa(a,b,c,d){c&&!d&&b(a);a.z(function(a){Sa(a,b,k,d)});c&&d&&b(a)}function Ta(a,b,c){for(a=c?a:a.parent();a!==m;){if(b(a))return k;a=a.parent()}return n}r.path=function(){return new H(this.qb===m?this.Hb:this.qb.path()+"/"+this.Hb)};r.name=aa("Hb");
r.parent=aa("qb");function Ra(a){if(a.qb!==m){var b=a.qb,c=a.Hb,d=a.e(),e=c in b.m.children;d&&e?(delete b.m.children[c],b.m.Cb--,Ra(b)):!d&&!e&&(b.m.children[c]=a.m,b.m.Cb++,Ra(b))}};function K(a,b){this.Oa=a?a:Ua;this.$=b?b:Va}function Ua(a,b){return a<b?-1:a>b?1:0}r=K.prototype;r.ia=function(a,b){return new K(this.Oa,this.$.ia(a,b,this.Oa).copy(m,m,n,m,m))};r.remove=function(a){return new K(this.Oa,this.$.remove(a,this.Oa).copy(m,m,n,m,m))};r.get=function(a){for(var b,c=this.$;!c.e();){b=this.Oa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return m};
function Wa(a,b){for(var c,d=a.$,e=m;!d.e();){c=a.Oa(b,d.key);if(0===c){if(d.left.e())return e?e.key:m;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}g("Attempted to find predecessor key for a nonexistent key.  What gives?")}r.e=function(){return this.$.e()};r.count=function(){return this.$.count()};r.nb=function(){return this.$.nb()};r.Ua=function(){return this.$.Ua()};r.ua=function(a){return this.$.ua(a)};r.Ja=function(a){return this.$.Ja(a)};
r.Sa=function(a){return new Xa(this.$,a)};function Xa(a,b){this.Uc=b;for(this.Ib=[];!a.e();)this.Ib.push(a),a=a.left}function Ya(a){if(0===a.Ib.length)return m;var b=a.Ib.pop(),c;c=a.Uc?a.Uc(b.key,b.value):{key:b.key,value:b.value};for(b=b.right;!b.e();)a.Ib.push(b),b=b.left;return c}function Za(a,b,c,d,e){this.key=a;this.value=b;this.color=c!=m?c:k;this.left=d!=m?d:Va;this.right=e!=m?e:Va}r=Za.prototype;
r.copy=function(a,b,c,d,e){return new Za(a!=m?a:this.key,b!=m?b:this.value,c!=m?c:this.color,d!=m?d:this.left,e!=m?e:this.right)};r.count=function(){return this.left.count()+1+this.right.count()};r.e=p(n);r.ua=function(a){return this.left.ua(a)||a(this.key,this.value)||this.right.ua(a)};r.Ja=function(a){return this.right.Ja(a)||a(this.key,this.value)||this.left.Ja(a)};function $a(a){return a.left.e()?a:$a(a.left)}r.nb=function(){return $a(this).key};
r.Ua=function(){return this.right.e()?this.key:this.right.Ua()};r.ia=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.copy(m,m,m,e.left.ia(a,b,c),m):0===d?e.copy(m,b,m,m,m):e.copy(m,m,m,m,e.right.ia(a,b,c));return ab(e)};function bb(a){if(a.left.e())return Va;!a.left.D()&&!a.left.left.D()&&(a=cb(a));a=a.copy(m,m,m,bb(a.left),m);return ab(a)}
r.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))!c.left.e()&&(!c.left.D()&&!c.left.left.D())&&(c=cb(c)),c=c.copy(m,m,m,c.left.remove(a,b),m);else{c.left.D()&&(c=db(c));!c.right.e()&&(!c.right.D()&&!c.right.left.D())&&(c=eb(c),c.left.left.D()&&(c=db(c),c=eb(c)));if(0===b(a,c.key)){if(c.right.e())return Va;d=$a(c.right);c=c.copy(d.key,d.value,m,m,bb(c.right))}c=c.copy(m,m,m,m,c.right.remove(a,b))}return ab(c)};r.D=aa("color");
function ab(a){a.right.D()&&!a.left.D()&&(a=fb(a));a.left.D()&&a.left.left.D()&&(a=db(a));a.left.D()&&a.right.D()&&(a=eb(a));return a}function cb(a){a=eb(a);a.right.left.D()&&(a=a.copy(m,m,m,m,db(a.right)),a=fb(a),a=eb(a));return a}function fb(a){var b;b=a.copy(m,m,k,m,a.right.left);return a.right.copy(m,m,a.color,b,m)}function db(a){var b;b=a.copy(m,m,k,a.left.right,m);return a.left.copy(m,m,a.color,m,b)}
function eb(a){var b,c;b=a.left.copy(m,m,!a.left.color,m,m);c=a.right.copy(m,m,!a.right.color,m,m);return a.copy(m,m,!a.color,b,c)}function gb(){}r=gb.prototype;r.copy=function(){return this};r.ia=function(a,b){return new Za(a,b,i,i,i)};r.remove=function(){return this};r.get=p(m);r.count=p(0);r.e=p(k);r.ua=p(n);r.Ja=p(n);r.nb=p(m);r.Ua=p(m);r.D=p(n);var Va=new gb;var hb=Array.prototype,ib=hb.forEach?function(a,b,c){hb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},jb=hb.map?function(a,b,c){return hb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=u(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e};function kb(){};function lb(){this.w=[];this.gc=[];this.ed=[];this.Pb=[];this.Pb[0]=128;for(var a=1;64>a;++a)this.Pb[a]=0;this.reset()}ja(lb,kb);lb.prototype.reset=function(){this.w[0]=1732584193;this.w[1]=4023233417;this.w[2]=2562383102;this.w[3]=271733878;this.w[4]=3285377520;this.wc=this.jb=0};
function mb(a,b){var c;c||(c=0);for(var d=a.ed,e=c;e<c+64;e+=4)d[e/4]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3];for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}c=a.w[0];for(var h=a.w[1],j=a.w[2],l=a.w[3],o=a.w[4],q,e=0;80>e;e++)40>e?20>e?(f=l^h&(j^l),q=1518500249):(f=h^j^l,q=1859775393):60>e?(f=h&j|l&(h|j),q=2400959708):(f=h^j^l,q=3395469782),f=(c<<5|c>>>27)+f+o+q+d[e]&4294967295,o=l,l=j,j=(h<<30|h>>>2)&4294967295,h=c,c=f;a.w[0]=a.w[0]+c&4294967295;a.w[1]=a.w[1]+h&
4294967295;a.w[2]=a.w[2]+j&4294967295;a.w[3]=a.w[3]+l&4294967295;a.w[4]=a.w[4]+o&4294967295}lb.prototype.update=function(a,b){s(b)||(b=a.length);var c=this.gc,d=this.jb,e=0;if(u(a))for(;e<b;)c[d++]=a.charCodeAt(e++),64==d&&(mb(this,c),d=0);else for(;e<b;)c[d++]=a[e++],64==d&&(mb(this,c),d=0);this.jb=d;this.wc+=b};function nb(){this.Na={};this.length=0}nb.prototype.setItem=function(a,b){this.Na.hasOwnProperty(a)||(this.length+=1);this.Na[a]=b};nb.prototype.getItem=function(a){return this.Na.hasOwnProperty(a)?this.Na[a]:m};nb.prototype.removeItem=function(a){this.Na.hasOwnProperty(a)&&(this.length-=1,delete this.Na[a])};var L=m;
if("undefined"!==typeof sessionStorage)try{sessionStorage.setItem("firebase-sentinel","cache"),sessionStorage.removeItem("firebase-sentinel"),L=sessionStorage}catch(ob){L=new nb}else L=new nb;function pb(a,b,c,d){this.host=a;this.xb=b;this.Wa=c;this.N=d||L.getItem(a)||this.host}function qb(a,b){b!==a.N&&(a.N=b,"s-"===a.N.substr(0,2)&&L.setItem(a.host,a.N))};var rb,sb,tb,ub;function vb(){return ba.navigator?ba.navigator.userAgent:m}ub=tb=sb=rb=n;var wb;if(wb=vb()){var xb=ba.navigator;rb=0==wb.indexOf("Opera");sb=!rb&&-1!=wb.indexOf("MSIE");tb=!rb&&-1!=wb.indexOf("WebKit");ub=!rb&&!tb&&"Gecko"==xb.product}var yb=sb,zb=ub,Ab=tb;var Bb;if(rb&&ba.opera){var Cb=ba.opera.version;"function"==typeof Cb&&Cb()}else zb?Bb=/rv\:([^\);]+)(\)|;)/:yb?Bb=/MSIE\s+([^\);]+)(\)|;)/:Ab&&(Bb=/WebKit\/(\S+)/),Bb&&Bb.exec(vb());var Db=m,Eb=m;
function Fb(a,b){ea(a)||g(Error("encodeByteArray takes an array as a parameter"));if(!Db){Db={};Eb={};for(var c=0;65>c;c++)Db[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Eb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Eb:Db,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,j=h?a[e+1]:0,l=e+2<a.length,o=l?a[e+2]:0,q=f>>2,f=(f&3)<<4|j>>4,j=(j&15)<<2|o>>6,o=o&63;l||(o=64,h||(j=64));d.push(c[q],c[f],c[j],c[o])}return d.join("")}
;var Gb,Hb=1;Gb=function(){return Hb++};function z(a,b){a||g(Error("Firebase INTERNAL ASSERT FAILED:"+b))}function Ib(a){a=ra(a);return Fb(a,k)}function Kb(a){var b=ra(a),a=new lb;a.update(b);var b=[],c=8*a.wc;56>a.jb?a.update(a.Pb,56-a.jb):a.update(a.Pb,64-(a.jb-56));for(var d=63;56<=d;d--)a.gc[d]=c&255,c/=256;mb(a,a.gc);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c++]=a.w[d]>>e&255;return Fb(b)}
function Lb(){for(var a="",b=0;b<arguments.length;b++)a=ea(arguments[b])?a+Lb.apply(m,arguments[b]):"object"===typeof arguments[b]?a+y(arguments[b]):a+arguments[b],a+=" ";return a}var Mb=m,Nb=k;function M(){Nb===k&&(Nb=n,Mb===m&&"true"===L.getItem("logging_enabled")&&Ob(k));if(Mb){var a=Lb.apply(m,arguments);Mb(a)}}function Pb(a){return function(){M(a,arguments)}}function Qb(){if("undefined"!==typeof console){var a=Lb.apply(m,arguments);console.log("FIREBASE INTERNAL ERROR: "+a)}}
function Rb(){if("undefined"!==typeof console){var a=Lb.apply(m,arguments);console.log("FIREBASE WARNING: "+a)}}function Sb(a){for(var b="",a=a.split("/"),c=0;c<a.length;c++)if(0<a[c].length){var d=a[c];try{d=decodeURIComponent(d.replace(/\+/g," "))}catch(e){}b+="/"+d}return b}var Ha=/^[\-+]?[0-9]*\.?[0-9]+(e\-|e\+|E\-|E\+|e|E)?[0-9]*$/;function Ba(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function Tb(a,b){return a!==b?a===m?-1:b===m?1:typeof a!==typeof b?"number"===typeof a?-1:1:a>b?1:-1:0}function Ub(a,b){if(b&&a in b)return b[a];g(Error("Missing required key ("+a+") in object: "+JSON.stringify(b)))}var Vb=0;function Ka(a){if("object"!==typeof a||a===m)return y(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=y(b[d]),c+=":",c+=Ka(a[b[d]]);return c+"}"}
function Wb(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c};function Xb(a,b){this.qa=a;z(this.qa!==m,"LeafNode shouldn't be created with null value.");this.Ya="undefined"!==typeof b?b:m}r=Xb.prototype;r.J=p(k);r.k=aa("Ya");r.ec=function(a){return new Xb(this.qa,a)};r.M=function(){return O};r.I=function(a){return E(a)===m?this:O};r.W=p(m);r.C=function(a,b){return(new P(new K,this.Ya)).C(a,b)};r.$a=function(a,b){var c=E(a);return c===m?b:this.C(c,O.$a(La(a),b))};r.e=p(n);r.Jb=p(0);
r.ba=function(a){return a&&this.k()!==m?{".value":this.i(),".priority":""+this.k()}:this.i()};
r.hash=function(){var a="";this.k()!==m&&(a+="priority:"+this.k()+":");var b=typeof this.qa,a=a+(b+":");if("number"===b){b=this.qa;z(!Ba(b));var c,d,e,f;0===b?(e=d=0,c=-Infinity===1/b?1:0):(c=0>b,b=Math.abs(b),b>=Math.pow(2,-1022)?(e=Math.min(Math.floor(Math.log(b)/Math.LN2),1023),d=e+1023,e=Math.round(b*Math.pow(2,52-e)-Math.pow(2,52))):(d=0,e=Math.round(b/Math.pow(2,-1074))));f=[];for(b=52;b;b-=1)f.push(e%2?1:0),e=Math.floor(e/2);for(b=11;b;b-=1)f.push(d%2?1:0),d=Math.floor(d/2);f.push(c?1:0);f.reverse();
c=f.join("");d="";for(b=0;64>b;b+=8)e=parseInt(c.substr(b,8),2).toString(16),1===e.length&&(e="0"+e),d+=e;a+=d.toLowerCase()}else a+=this.qa;return Kb(a)};r.i=aa("qa");r.toString=function(){return"string"===typeof this.qa?'"'+this.qa+'"':this.qa};function P(a,b){this.Q=a||new K;this.Ya="undefined"!==typeof b?b:m}r=P.prototype;r.J=p(n);r.k=aa("Ya");r.ec=function(a){return new P(this.Q,a)};r.C=function(a,b){var c=this.Q.remove(a);b&&b.e()&&(b=m);b!==m&&(c=c.ia(a,b));return b&&b.k()!==m?new Yb(c,m,this.Ya):new P(c,this.Ya)};r.$a=function(a,b){var c=E(a);if(c===m)return b;var d=this.M(c).$a(La(a),b);return this.C(c,d)};r.e=function(){return this.Q.e()};r.Jb=function(){return this.Q.count()};var Zb=/^\d+$/;r=P.prototype;
r.ba=function(a){if(this.e())return m;var b={},c=0,d=0,e=k;this.z(function(f,h){b[f]=h.ba(a);c++;e&&Zb.test(f)?d=Math.max(d,Number(f)):e=n});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&this.k()!==m&&(b[".priority"]=""+this.k());return b};r.hash=function(){var a="";this.k()!==m&&(a+="priority:"+this.k()+":");this.z(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});return""===a?"":Kb(a)};r.M=function(a){a=this.Q.get(a);return a===m?O:a};
r.I=function(a){var b=E(a);return b===m?this:this.M(b).I(La(a))};r.W=function(a){return Wa(this.Q,a)};r.Gc=function(){return this.Q.nb()};r.Ic=function(){return this.Q.Ua()};r.z=function(a){return this.Q.ua(a)};r.ic=function(a){return this.Q.Ja(a)};r.Sa=function(){return this.Q.Sa()};r.toString=function(){var a="{",b=k;this.z(function(c,d){b?b=n:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};var O=new P(new K);function Yb(a,b,c){P.call(this,a,c);b===m&&(b=new K($b),a.ua(function(a,c){b=b.ia({name:a,ya:c.k()},c)}));this.ma=b}ja(Yb,P);r=Yb.prototype;r.C=function(a,b){var c=this.M(a),d=this.Q,e=this.ma;c!==m&&(d=d.remove(a),e=e.remove({name:a,ya:c.k()}));b&&b.e()&&(b=m);b!==m&&(d=d.ia(a,b),e=e.ia({name:a,ya:b.k()},b));return new Yb(d,e,this.k())};r.W=function(a,b){var c=Wa(this.ma,{name:a,ya:b.k()});return c?c.name:m};r.z=function(a){return this.ma.ua(function(b,c){return a(b.name,c)})};
r.ic=function(a){return this.ma.Ja(function(b,c){return a(b.name,c)})};r.Sa=function(){return this.ma.Sa(function(a,b){return{key:a.name,value:b}})};r.Gc=function(){return this.ma.e()?m:this.ma.nb().name};r.Ic=function(){return this.ma.e()?m:this.ma.Ua().name};function Q(a,b){if("object"!==typeof a)return new Xb(a,b);if(a===m)return O;var c=m;".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);c!==m&&(c=Ha.test(c)?Number(c):c);if(".value"in a&&a[".value"]!==m)return new Xb(a[".value"],c);var c=new P(new K,c),d;for(d in a)if(a.hasOwnProperty(d)&&"."!==d.substring(0,1)){var e=Q(a[d]);if(e.J()||!e.e())c=c.C(d,e)}return c}function $b(a,b){return Tb(a.ya,b.ya)||(a.name!==b.name?a.name<b.name?-1:1:0)};function R(a,b){this.m=a;this.Wb=b}R.prototype.ba=function(){A("Firebase.DataSnapshot.val",0,0,arguments.length);return this.m.ba()};R.prototype.val=R.prototype.ba;R.prototype.od=function(){A("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.m.ba(k)};R.prototype.exportVal=R.prototype.od;R.prototype.A=function(a){A("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));Fa("Firebase.DataSnapshot.child",a);var b=new H(a),c=this.Wb.A(b);return new R(this.m.I(b),c)};
R.prototype.child=R.prototype.A;R.prototype.jc=function(a){A("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Fa("Firebase.DataSnapshot.hasChild",a);var b=new H(a);return!this.m.I(b).e()};R.prototype.hasChild=R.prototype.jc;R.prototype.k=function(){A("Firebase.DataSnapshot.getPriority",0,0,arguments.length);var a=this.m.k();return a===m?a:""+a};R.prototype.getPriority=R.prototype.k;
R.prototype.forEach=function(a){A("Firebase.DataSnapshot.forEach",1,1,arguments.length);D("Firebase.DataSnapshot.forEach",1,a,n);if(this.m.J())return n;var b=this;return this.m.z(function(c,d){return a(new R(d,b.Wb.A(c)))})};R.prototype.forEach=R.prototype.forEach;R.prototype.Gb=function(){A("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.m.J()?n:!this.m.e()};R.prototype.hasChildren=R.prototype.Gb;
R.prototype.name=function(){A("Firebase.DataSnapshot.name",0,0,arguments.length);return this.Wb.name()};R.prototype.name=R.prototype.name;R.prototype.Jb=function(){A("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.m.Jb()};R.prototype.numChildren=R.prototype.Jb;R.prototype.Cd=function(){A("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.Wb};R.prototype.ref=R.prototype.Cd;var S;S=k;function ac(a){this.qc=a;this.Rb=[];this.Qa=0;this.hc=-1;this.Ga=m}function bc(a,b,c){for(a.Rb[b]=c;a.Rb[a.Qa];){b=a.Rb[a.Qa];delete a.Rb[a.Qa];for(c=0;c<b.length;++c)b[c]&&a.qc(b[c]);if(a.Qa===a.hc){a.Ga&&(clearTimeout(a.Ga),a.Ga(),a.Ga=m);break}a.Qa++}};if(S){var cc=require("http"),ec=function(a,b,c){this.Db=a;this.c=Pb(a);this.B=b;this.Ma=c;this.X=this.Ea=n;this.Y=new dc;this.buffer={};this.Z=[];this.Bd=function(a){b.host!==b.N&&(a.ns=b.Wa);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return"/.hp?"+c.join("&")}};ec.isAvailable=p(n);r=ec.prototype;r.open=function(a,b){this.fb=0;this.L=b;this.Ad=new ac(a);var c=this;this.R=setTimeout(function(){c.c("Timed out trying to connect.");c.close();c.R=m},3E4);var d=Math.floor(1E8*Math.random()),
e={start:"t"};e.ser=d;e.v="5";this.Ma&&(e.s=this.Ma);this.c("Connecting via httppoll to "+this.B.N);this.lc(d,e)};r.start=function(){this.Kd()};r.send=function(a){for(var a=y(a),a=Ib(a),a=Wb(a,1048576),b=0;b<a.length;++b)this.md(this.fb,a.length,a[b]),this.fb++};r.close=function(){this.X||(this.c("Httppoll is being closed"),this.jd(),this.Ba())};r.md=function(a,b,c){this.Z.push({sc:a,yc:b,hb:c});this.bb&&this.wa()};r.Kd=function(){this.bb=k;for(this.gb=Math.floor(1E8*Math.random());this.wa(););};
r.wa=function(){if(this.bb&&this.Y.count()<(0<this.Z.length?2:1)){var a=this.gb++,b={};b.id=this.id;b.pw=this.Xa;b.ser=a;for(var c=[];0<this.Z.length;)if(1048608>=this.Z[0].hb.length){var d=this.Z.shift();c.push(d.sc+":"+d.yc+":"+d.hb)}else break;var e=this,d=setTimeout(function(){e.Y.remove(a);e.wa()},25E3);this.Y.add(a,d);this.lc(a,b,c.join("\n"));return k}return n};r.ka=function(){this.X||(this.c("Httppoll is closing itself"),this.Ba(),this.L&&(this.L(this.Ea),this.L=m))};r.Ba=function(){this.X=
k;this.bb=n;this.Ac();G(this.Y.set,function(a){clearTimeout(a)});this.Y.clear()};r.ud=function(a,b){var c=a.toString();this.buffer[b]=b in this.buffer?this.buffer[b]+c:c};r.wd=function(a){if(a in this.buffer){var b=this.buffer[a];delete this.buffer[a];b=qa(b);a=parseInt(Ub("x-firebase-response",a.headers));bc(this.Ad,a,b)}};r.Ac=function(){this.R&&(clearTimeout(this.R),this.R=m)};r.fd=function(a){(a=this.Y.get(a))&&clearTimeout(a)};r.yd=function(a,b){this.Ac();this.fd(a);this.Y.remove(a);this.wa();
if(200!=b.statusCode)this.c("error code received: "+b.statusCode),this.ka();else{"x-firebase-poll-id"in b.headers&&"x-firebase-poll-pw"in b.headers&&(this.id=b.headers["x-firebase-poll-id"],this.Xa=b.headers["x-firebase-poll-pw"]);"x-firebase-poll-close"in b.headers&&(this.c("recvd close"),this.bb=n);var c=this;b.on("data",function(a){c.ud(a,b)});b.on("end",function(){c.wd(b)})}};r.lc=function(a,b,c){var c=c||"",b=this.Bd(b),d=this.B.N,e=d.split(":"),f=this.B.xb?443:80;1<e.length&&(d=e[0],f=parseInt(e[1]));
var h=this,b=cc.request({method:"POST",host:d,port:f,path:b},function(b){h.yd(a,b)});b.on("error",function(a){h.c("An error occurred: "+a.message);h.ka()});b.end(c)};r.jd=function(){if(this.bb&&this.id&&this.Xa){this.c("doing a disconnect");var a={};a.id=this.id;a.pw=this.Xa;a.disconn="t";this.lc(0,a)}}}else ec={isAvailable:p(n)};var fc=m;S?fc=require("faye-websocket").Client:"undefined"!==typeof MozWebSocket?fc=MozWebSocket:"undefined"!==typeof WebSocket&&(fc=WebSocket);function T(a,b,c){this.Db=a;this.c=Pb(this.Db);this.frames=this.lb=m;this.vc=0;this.Pa=(b.xb?"wss://":"ws://")+b.N+"/.ws?v=5";b.host!==b.N&&(this.Pa=this.Pa+"&ns="+b.Wa);c&&(this.Pa=this.Pa+"&s="+c)}var gc;
T.prototype.open=function(a,b){this.xa=b;this.Nb=a;this.c("websocket connecting to "+this.Pa);this.S=new fc(this.Pa);this.Ea=n;var c=this;this.S.onopen=function(){c.c("Websocket connected.");c.Ea=k};this.S.onclose=function(){c.c("Websocket connection was disconnected.");c.S=m;c.ka()};this.S.onmessage=function(a){if(c.S!==m)if(a=a.data,c.frames!==m)hc(c,a);else{a:{z(c.frames===m,"We already have a frame buffer");if(4>=a.length){var b=Number(a);if(!isNaN(b)){c.vc=b;c.frames=[];a=m;break a}}c.vc=1;c.frames=
[]}a!==m&&hc(c,a)}};this.S.onerror=function(){c.c("WebSocket error.  Closing connection.");c.ka()}};T.prototype.start=function(){};T.isAvailable=function(){return!("undefined"!==typeof navigator&&"Opera"===navigator.appName)&&fc!==m&&!gc};function hc(a,b){a.frames.push(b);if(a.frames.length==a.vc){var c=a.frames.join("");a.frames=m;c=qa(c);ic(a);a.Nb(c)}}T.prototype.send=function(a){ic(this);a=y(a);a=Wb(a,16384);1<a.length&&this.S.send(String(a.length));for(var b=0;b<a.length;b++)this.S.send(a[b])};
T.prototype.Ba=function(){this.X=k;this.lb&&(clearTimeout(this.lb),this.lb=m);this.S&&(this.S.close(),this.S=m)};T.prototype.ka=function(){this.X||(this.c("WebSocket is closing itself"),this.Ba(),this.xa&&(this.xa(this.Ea),this.xa=m))};T.prototype.close=function(){this.X||(this.c("WebSocket is being closed"),this.Ba())};function ic(a){clearTimeout(a.lb);a.lb=setInterval(function(){a.S.send("0");ic(a)},45E3)};function dc(){this.set={}}r=dc.prototype;r.add=function(a,b){this.set[a]=b!==m?b:k};r.contains=function(a){return this.set.hasOwnProperty(a)};r.get=function(a){return this.set[a]};r.remove=function(a){delete this.set[a]};r.clear=function(){this.set={}};r.e=function(){var a;a:{for(a in this.set){a=n;break a}a=k}return a};r.count=function(){var a=0,b;for(b in this.set)a++;return a};r.keys=function(){var a=[],b;for(b in this.set)this.set.hasOwnProperty(b)&&a.push(b);return a};var jc="pLPCommand",kc="pRTLPCB";function lc(a,b,c){this.Db=a;this.c=Pb(a);this.Md=b;this.Ma=c;this.Ea=n;this.ab=function(a){b.host!==b.N&&(a.ns=b.Wa);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.xb?"https://":"http://")+b.N+"/.lp?"+c.join("&")}}var mc;
lc.prototype.open=function(a,b){function c(){if(!d.X){d.da=new nc(function(a,b,c){d.da&&((d.R&&(clearTimeout(d.R),d.R=m),d.Ea=k,"start"==a)?(d.id=b,d.Xa=c):"close"===a?b?(d.da.Xc=n,a=d.Nc,a.hc=b,a.Ga=function(){d.ka()},a.hc<a.Qa&&(a.Ga(),a.Ga=m)):d.ka():g(Error("Unrecognized command received: "+a)))},function(a,b){bc(d.Nc,a,b)},function(){d.ka()},d.ab);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());d.da.cc&&(a.cb=d.da.cc);a.v="5";d.Ma&&(a.s=d.Ma);a=d.ab(a);d.c("Connecting via long-poll to "+
a);oc(d.da,a,function(){})}}this.fb=0;this.L=b;this.Nc=new ac(a);this.X=n;var d=this;this.R=setTimeout(function(){d.c("Timed out trying to connect.");d.close();d.R=m},3E4);if(S||"complete"===document.readyState)c();else{var e=n,f=function(){document.body?e||(e=k,c()):setTimeout(f,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,n),window.addEventListener("load",f,n)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&
f()},n),window.attachEvent("onload",f,n))}};lc.prototype.start=function(){var a=this.da,b=this.Xa;a.mc=this.id;a.Mc=b;for(a.fc=k;a.wa(););a=this.id;b=this.Xa;if(!S){this.Va=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;a=this.ab(c);this.Va.src=a;this.Va.style.display="none";document.body.appendChild(this.Va)}};lc.isAvailable=function(){return mc||!S};
lc.prototype.Ba=function(){this.X=k;this.da&&(this.da.close(),this.da=m);this.Va&&(document.body.removeChild(this.Va),this.Va=m);this.R&&(clearTimeout(this.R),this.R=m)};lc.prototype.ka=function(){this.X||(this.c("Longpoll is closing itself"),this.Ba(),this.L&&(this.L(this.Ea),this.L=m))};lc.prototype.close=function(){this.X||(this.c("Longpoll is being closed."),this.Ba())};
lc.prototype.send=function(a){for(var a=y(a),a=Ib(a),a=Wb(a,1840),b=0;b<a.length;b++){var c=this.da;c.Z.push({sc:this.fb,yc:a.length,hb:a[b]});c.fc&&c.wa();this.fb++}};
function nc(a,b,c,d){this.ab=d;this.xa=c;this.Y=new dc;this.Z=[];this.gb=Math.floor(1E8*Math.random());this.Xc=k;if(S)this.gd=a,this.xd=b;else{this.cc=Gb();window[jc+this.cc]=a;window[kc+this.cc]=b;a=document.createElement("iframe");a.style.display="none";document.body?document.body.appendChild(a):g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");a.contentDocument?a.sa=a.contentDocument:a.contentWindow?a.sa=a.contentWindow.document:a.document&&
(a.sa=a.document);this.ja=a;try{this.ja.sa.open(),this.ja.sa.write("<html><body></body></html>"),this.ja.sa.close()}catch(e){M("frame writing exception"),e.stack&&M(e.stack),M(e)}}}nc.prototype.close=function(){this.fc=n;this.ja&&(this.ja.sa.body.innerHTML="",document.body.removeChild(this.ja),this.ja=m);if(S&&this.mc){var a={disconn:"t"};a.id=this.mc;a.pw=this.Mc;a=this.ab(a);pc(a)}if(a=this.xa)this.xa=m,a()};
nc.prototype.wa=function(){if(this.fc&&this.Xc&&this.Y.count()<(0<this.Z.length?2:1)){this.gb++;var a={};a.id=this.mc;a.pw=this.Mc;a.ser=this.gb;for(var a=this.ab(a),b="",c=0;0<this.Z.length;)if(1870>=this.Z[0].hb.length+30+b.length){var d=this.Z.shift(),b=b+"&seg"+c+"="+d.sc+"&ts"+c+"="+d.yc+"&d"+c+"="+d.hb;c++}else break;var a=a+b,e=this.gb,f=this;f.Y.add(e);var h=function(){f.Y.remove(e);f.wa()},j=setTimeout(h,25E3);oc(this,a,function(){clearTimeout(j);h()});return k}return n};
function oc(a,b,c){S?a.kd(b,c):setTimeout(function(){try{var d=a.ja.sa.createElement("script");d.type="text/javascript";d.async=k;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;if(!a||"loaded"===a||"complete"===a)d.onload=d.onreadystatechange=m,d.parentNode&&d.parentNode.removeChild(d),c()};d.onerror=function(){M("Long-poll script failed to load.");a.close()};a.ja.sa.body.appendChild(d)}catch(e){}},1)}
if("undefined"!==typeof S&&S){var pc=function(a,b){qc||(qc=require("request"));qc(a,function(a,d,e){a&&g("Rest request for "+url+" failed.");b&&b(e)})},qc;nc.prototype.kd=function(a,b){var c=this;pc({url:a,Ld:k},function(a){c.nd(a);b()})};nc.prototype.nd=function(a){eval("var document = function("+jc+", "+kc+") {"+a+"}");document(this.gd,this.xd)}};function rc(){function a(a,c){c&&c.isAvailable()&&b.push(c)}var b=[],c=sc;if("array"==da(c))for(var d=0;d<c.length;++d)a(0,c[d]);else G(c,a);this.bc=b}var sc=[lc,ec,T];function U(a,b,c,d,e,f){this.id=a;this.c=Pb("c:"+this.id+":");this.qc=c;this.ob=d;this.L=e;this.pc=f;this.B=b;this.Qb=[];this.Bc=0;this.xc=new rc;this.oa=0;this.c("Connection created");tc(this)}function tc(a){var b;var c=a.xc;0<c.bc.length?b=c.bc[0]:g(Error("No transports available"));a.H=new b("c:"+a.id+":"+a.Bc++,a.B);b=uc(a,a.H);c=vc(a,a.H);a.zb=a.H;a.wb=a.H;a.H.open(b,c);a.o=m}
function vc(a,b){return function(c){b===a.H?(a.H=m,!c&&0===a.oa?(a.c("Realtime connection failed."),"s-"===a.B.N.substr(0,2)&&(L.removeItem(a.B.Wa),a.B.N=a.B.host)):1===a.oa&&a.c("Realtime connection lost."),a.close()):b===a.o?(c=a.o,a.o=m,(a.zb===c||a.wb===c)&&a.close()):a.c("closing an old connection")}}
function uc(a,b){return function(c){if(2!=a.oa)if(b===a.wb){var d=Ub("t",c),c=Ub("d",c);if("c"==d){if(d=Ub("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Ma=c.s;qb(a.B,f);if(0==a.oa&&(a.H.start(),c=a.H,a.c("Realtime connection established."),a.H=c,a.oa=1,a.ob&&(a.ob(d),a.ob=m),"4"!==e&&Rb("Protocol version mismatch detected"),c=1<a.xc.bc.length?a.xc.bc[1]:m))a.o=new c("c:"+a.id+":"+a.Bc++,a.B,a.Ma),a.o.open(uc(a,a.o),vc(a,a.o))}else if("n"===d){a.c("recvd end transmission on primary");
a.wb=a.o;for(c=0;c<a.Qb.length;++c)a.Lb(a.Qb[c]);a.Qb=[];wc(a)}else"s"===d?(a.c("Connection shutdown command received. Shutting down..."),a.pc&&(a.pc(c),a.pc=m),a.L=m,a.close()):"r"===d?(a.c("Reset packet received.  New host: "+c),qb(a.B,c),1===a.oa?a.close():(xc(a),tc(a))):Qb("Unknown control packet command: "+d)}else"d"==d&&a.Lb(c)}else b===a.o?(d=Ub("t",c),c=Ub("d",c),"c"==d?"t"in c&&(c=c.t,"a"===c?(a.o.start(),a.c("sending client ack on secondary"),a.o.send({t:"c",d:{t:"a",d:{}}}),a.c("Ending transmission on primary"),
a.H.send({t:"c",d:{t:"n",d:{}}}),a.zb=a.o,wc(a)):"r"===c&&(a.c("Got a reset on secondary, closing it"),a.o.close(),(a.zb===a.o||a.wb===a.o)&&a.close())):"d"==d?a.Qb.push(c):g(Error("Unknown protocol layer: "+d))):a.c("message on old connection")}}U.prototype.tc=function(a){a={t:"d",d:a};1!==this.oa&&g("Connection is not connected");this.zb.send(a)};function wc(a){a.zb===a.o&&a.wb===a.o&&(a.c("cleaning up and promoting a connection: "+a.o.Db),a.H=a.o,a.o=m)}U.prototype.Lb=function(a){this.qc(a)};
U.prototype.close=function(){2!==this.oa&&(this.c("Closing realtime connection."),this.oa=2,xc(this),this.L&&(this.L(),this.L=m))};function xc(a){a.c("Shutting down all connections");a.H&&(a.H.close(),a.H=m);a.o&&(a.o.close(),a.o=m)};function yc(a,b,c,d){this.id=zc++;this.c=Pb("p:"+this.id+":");this.yb=k;this.ca={};this.O=[];this.pb=0;this.oc={};this.ha=n;this.Vb=1E3;this.Mb=b;this.Pc=c;this.L=d;this.B=a;this.rc=m;this.Sb=[];this.za={};this.Gd=0;this.mb=this.Lc=m;setTimeout(w(this.Cc,this),0)}var zc=0,Ac=0;r=yc.prototype;
r.La=function(a,b,c,d){var e=++this.Gd,a={r:e,a:a,b:b};this.c(JSON.stringify(a));this.ha?this.ub.tc(a):this.Sb.push(a);var f=this,a=setTimeout(function(){var a=f.za[e];a&&(delete f.za[e],a.ga&&a.ga.Ob&&a.ga.Ob())},45E3);this.za[e]={ga:{Nb:c,Ob:d},Zc:a}};function Bc(a,b,c,d,e){a.c("Listen on "+b+" for "+c);var f={p:b},d=jb(d,function(a){return Ja(a)});"{}"!==c&&(f.q=d);a.La("l",f,function(d){a.c("listen response",d);d=d.s;"ok"!==d&&Cc(a,b,c);e&&e(d)},function(){a.c("timed out on listen...")})}
r.eb=function(a,b){this.Eb={hd:a,Ec:n,ea:b};this.c("Authenticating using credential: "+this.Eb);Dc(this)};r.Ab=function(){delete this.Eb;this.ha&&this.La("unauth",{},function(){},function(){})};function Dc(a){var b=a.Eb;a.ha&&b&&a.La("auth",{cred:b.hd},function(c){(c="ok"==c.s)||delete a.Eb;b.Ec||(b.Ec=k,b.ea&&b.ea(c))},function(){a.c("timed out on auth...")})}
r.ad=function(a,b,c){a=a.toString();if(Cc(this,a,b)&&this.ha){this.c("Unlisten on "+a+" for "+b);var d=this,a={p:a},c=jb(c,function(a){return Ja(a)});"{}"!==b&&(a.q=c);this.La("u",a,m,function(){d.c("timed out on unlisten...")})}};r.xa=function(a,b){this.oc[a]=b;this.ha&&Ec(this,a,b)};function Ec(a,b,c){b={p:b,d:c};a.c("onDisconnect",b);a.La("o",b,function(a){"ok"!==a.s&&g("onDisconnect failed: "+y(a.d))},function(){a.c("timed out on onDisconnect...")})}r.put=function(a,b,c,d){Fc(this,"p",a,b,c,d)};
function Fc(a,b,c,d,e,f){c={p:c,d:d};s(f)&&(c.h=f);a.O.push({action:b,Tc:c,F:e});a.pb++;b=a.O.length-1;a.ha&&Gc(a,b)}function Gc(a,b){var c=a.O[b].action,d=a.O[b].F;a.La(c,a.O[b].Tc,function(e){a.c(c+" response",e);delete a.O[b];a.pb--;0===a.pb&&(a.O=[]);d&&d(e.s)},function(){a.c("timed out on put...")})}
r.Lb=function(a){if("r"in a){this.c("from server: "+JSON.stringify(a));var b=a.r,c=this.za[b];c&&(delete this.za[b],clearTimeout(c.Zc),c.ga&&c.ga.Nb&&c.ga.Nb(a.b))}else"error"in a&&g("A server-side error has occurred: "+a.error),"a"in a&&(b=a.a,c=a.b,this.c("handleServerMessage",b,c),"d"===b?this.Mb(c.p,c.d):"m"===b?this.Mb(c.p,c.d,k):"c"===b?(a=c.p,b=(b=c.q)?jb(b,function(a){return Ka(a)}).join("$"):"{}",(a=Cc(this,a,b))&&a.F&&a.F("permission_denied")):"sd"===b?this.rc?this.rc(c):"msg"in c&&"undefined"!==
typeof console&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: ")):Qb("Unrecognized action received from server: "+y(b)+"\nAre you using the latest client?"))};
r.ob=function(a){this.c("connection ready");this.ha=k;this.mb=(new Date).getTime();Vb=a-(new Date).getTime();for(a=0;a<this.Sb.length;a++)this.ub.tc(this.Sb[a]);this.Sb=[];Dc(this);for(var b in this.ca)for(var c in this.ca[b])a=this.ca[b][c],Bc(this,b,c,a.Za,a.F);for(b in this.oc)Ec(this,b,this.oc[b]);for(b=0;b<this.O.length;b++)this.O[b]&&Gc(this,b);this.Pc&&this.Pc()};
r.Rc=function(){this.ha=n;this.c("data client disconnected");if(!this.yb){for(var a=0;a<this.O.length;a++){var b=this.O[a];b&&"h"in b.Tc&&(b.F&&b.F("disconnect"),delete this.O[a],this.pb--)}0===this.pb&&(this.O=[]);for(var c in this.za)a=this.za[c],delete this.za[c],a!==m&&(a.ga&&a.ga.Ob&&a.ga.Ob(),clearTimeout(a.Zc))}var d=w(function(){this.Cc()},this);this.yb?(this.mb&&(3E4<(new Date).getTime()-this.mb&&(this.Vb=1E3),this.mb=m),c=Math.max(0,this.Vb-((new Date).getTime()-this.Lc)),c*=Math.random(),
this.c("Trying to reconnect in "+c+"ms"),setTimeout(d,c),this.Vb=Math.min(3E4,1.3*this.Vb)):this.Vc=function(){setTimeout(d,0)};this.L&&this.L()};r.Cc=function(){if(this.yb){this.c("Making a connection attempt");this.Lc=(new Date).getTime();this.mb=m;var a=w(this.Lb,this),b=w(this.ob,this),c=w(this.Rc,this),d=this.id+":"+Ac++;this.ub=new U(d,this.B,a,b,c,function(a){g(Error(a))})}};r.Ta=function(){this.yb=n;this.ub?this.ub.close():this.Rc()};r.vb=function(){this.yb=k;this.Vc();this.Vc=i};
function Cc(a,b,c){b=(new H(b)).toString();c||(c="{}");var d=a.ca[b][c];delete a.ca[b][c];return d};function Hc(){this.Ka=O}function V(a,b){return a.Ka.I(b)}function W(a,b,c){a.Ka=a.Ka.$a(b,c)}Hc.prototype.toString=function(){return this.Ka.toString()};function Ic(){this.Aa=new Hc;this.K=new Hc;this.Ca=new Hc;this.sb=new Qa}function Jc(a,b){for(var c=V(a.Aa,b),d=V(a.K,b),e=I(a.sb,b),f=n,h=e;h!==m;){if(h.i()!==m){f=k;break}h=h.parent()}if(f)return n;c=Kc(c,d,e);return c!==d?(W(a.K,b,c),k):n}function Kc(a,b,c){if(c.e())return a;if(c.i()!==m)return b;a=a||O;c.z(function(d){var d=d.name(),e=a.M(d),f=b.M(d),h=I(c,d),e=Kc(e,f,h);a=a.C(d,e)});return a}
Ic.prototype.set=function(a,b){var c=this,d=[];ib(b,function(a){var b=a.path,a=a.Fa,h=Gb();J(I(c.sb,b),h);W(c.K,b,a);d.push({path:b,Hd:h})});return d};function Lc(a,b){ib(b,function(b){var d=b.Hd,b=I(a.sb,b.path),e=b.i();z(e!==m,"pendingPut should not be null.");e===d&&J(b,m)})};function Mc(){this.rb=this.pa=m;this.set={}}ja(Mc,dc);r=Mc.prototype;r.setActive=function(a){this.pa=a};function Nc(a){return a.contains("default")}function Oc(a){return a.pa!=m&&Nc(a)}r.defaultView=function(){return Nc(this)?this.get("default"):m};r.path=aa("rb");r.toString=function(){return jb(this.keys(),function(a){return"default"===a?"{}":a}).join("$")};r.Za=function(){var a=[];G(this.set,function(b){a.push(b.G)});return a};function Pc(){this.Da=[]}function Qc(a,b){if(0!==b.length){a.Da.push.apply(a.Da,b);for(var c=0;c<a.Da.length;c++)if(a.Da[c]){var d=a.Da[c];a.Da[c]=m;var e=d.ea;e(d.Yc,d.tb)}a.Da=[]}};function X(a,b,c,d){this.type=a;this.la=b;this.U=c;this.tb=d};function Rc(a){this.G=a;this.fa=[];this.Dc=new Pc}function Sc(a,b,c,d,e){a.fa.push({type:b,ea:c,cancel:d,V:e});var d=[],f=Tc(a.f);a.kb&&f.push(new X("value",a.f));for(var h=0;h<f.length;h++)if(f[h].type===b){var j=new Y(a.G.n,a.G.path);f[h].U&&(j=j.A(f[h].U));d.push({ea:e?w(c,e):c,Yc:new R(f[h].la,j),tb:f[h].tb})}Qc(a.Dc,d)}Rc.prototype.Tb=function(a,b){b=this.Ub(a,b);Uc(this,b)};
function Uc(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,h=new Y(a.G.n,a.G.path);b[d].U&&(h=h.A(b[d].U));h=new R(b[d].la,h);"value"===e.type&&!h.Gb()?f+="("+h.ba()+")":"value"!==e.type&&(f+=" "+h.name());M(a.G.n.u.id+": event:"+a.G.path+":"+a.G.Ha()+":"+f);for(f=0;f<a.fa.length;f++){var j=a.fa[f];b[d].type===j.type&&c.push({ea:j.V?w(j.ea,j.V):j.ea,Yc:h,tb:e.tb})}}Qc(a.Dc,c)}
function Tc(a){var b=[];if(!a.J()){var c=m;a.z(function(a,e){b.push(new X("child_added",e,a,c));c=a})}return b}function Vc(a){a.kb||(a.kb=k,Uc(a,[new X("value",a.f)]))};function Zc(a,b){Rc.call(this,a);this.f=b}ja(Zc,Rc);Zc.prototype.Ub=function(a,b){this.f=a;this.kb&&b.push(new X("value",this.f));return b};Zc.prototype.ib=function(){return{}};function $c(a,b){this.Fb=a;this.Qc=b}
function ad(a,b,c,d,e){var f=a.I(c),h=b.I(c),d=new $c(d,e),e=bd(d,c,f,h),h=f.k()!==h.k();if(e||h){f=c;for(c=e;f.parent()!==m;){var j=a.I(f),e=b.I(f),l=f.parent();if(!d.Fb||I(d.Fb,l).i()){var o=b.I(l),q=[],f=f.T<f.j.length?f.j[f.j.length-1]:m;if(j.e())j=o.W(f,e),q.push(new X("child_added",e,f,j));else if(e.e())q.push(new X("child_removed",j,f));else if(c&&(j=o.W(f,e),q.push(new X("child_changed",e,f,j))),h)j=o.W(f,e),q.push(new X("child_moved",e,f,j)),c=k;d.Qc(l,o,q)}f=l;h=n}}}
function bd(a,b,c,d){var e,f=[];c===d?e=n:c.J()&&d.J()?e=c.i()!==d.i():c.J()?(cd(a,b,O,d,f),e=k):d.J()?(cd(a,b,c,O,f),e=k):e=cd(a,b,c,d,f);(e=e||c.k()!==d.k())&&a.Qc(b,d,f);return e}
function cd(a,b,c,d,e){var f=n,h=!a.Fb||!I(a.Fb,b).e(),j=[],l=[],o=[],q={},N={},t,x,v,C;t=c.Sa();v=Ya(t);x=d.Sa();for(C=Ya(x);v!==m||C!==m;){c=v===m?1:C===m?-1:v.key===C.key?0:$b({name:v.key,ya:v.value.k()},{name:C.key,ya:C.value.k()});if(0>c)f=q[v.key],s(f)?(o.push({Fc:v,$c:j[f]}),j[f]=m):(N[v.key]=l.length,l.push(v)),f=k,v=Ya(t);else{if(0<c)f=N[C.key],s(f)?(o.push({Fc:l[f],$c:C}),l[f]=m):(q[C.key]=j.length,j.push(C)),f=k;else{c=b.A(C.key);if(c=bd(a,c,v.value,C.value))v=d.W(C.key,C.value),e.push(new X("child_changed",
C.value,C.key,v)),f=k;v=Ya(t)}C=Ya(x)}if(!h&&f)return k}for(h=0;h<l.length;h++)if(q=l[h])c=b.A(q.key),bd(a,c,q.value,O),e.push(new X("child_removed",q.value,q.key));for(h=0;h<j.length;h++)if(l=j[h])c=b.A(l.key),v=d.W(l.key,l.value),bd(a,c,O,l.value),e.push(new X("child_added",l.value,l.key,v));for(h=0;h<o.length;h++)l=o[h].Fc,j=o[h].$c,c=b.A(j.key),v=d.W(j.key,j.value),e.push(new X("child_moved",j.value,j.key,v)),(c=bd(a,c,l.value,j.value))&&e.push(new X("child_changed",j.value,j.key,v));return f}
;function dd(a,b){Rc.call(this,a);this.f=O;this.Ub(b,Tc(b))}ja(dd,Rc);
dd.prototype.Ub=function(a,b){var c=[],d=this.G;s(d.aa)&&(s(d.na)&&d.na!=m?c.push(function(a,b){var c=Tb(b,d.aa);return 0<c||0===c&&a>=d.na}):c.push(function(a,b){return 0<=Tb(b,d.aa)}));s(d.ta)&&(s(d.Ra)?c.push(function(a,b){var c=Tb(b,d.ta);return 0>c||0===c&&a<=d.Ra}):c.push(function(a,b){return 0>=Tb(b,d.ta)}));var e=m,f=m;if(s(this.G.va))if(s(this.G.aa)){if(e=ed(a,c,this.G.va,n)){var h=a.M(e).k();c.push(function(a,b){var c=Tb(b,h);return 0>c||0===c&&a<=e})}}else if(f=ed(a,c,this.G.va,k)){var j=
a.M(f).k();c.push(function(a,b){var c=Tb(b,j);return 0<c||0===c&&a>=f})}for(var l=[],o=[],q=[],N=[],t=0;t<b.length;t++){var x=b[t].U,v=b[t].la;switch(b[t].type){case "child_added":fd(c,x,v)&&(this.f=this.f.C(x,v),o.push(b[t]));break;case "child_removed":this.f.M(x).e()||(this.f=this.f.C(x,m),l.push(b[t]));break;case "child_changed":!this.f.M(x).e()&&fd(c,x,v)&&(this.f=this.f.C(x,v),N.push(b[t]));break;case "child_moved":var C=!this.f.M(x).e(),Wc=fd(c,x,v);C?Wc?(this.f=this.f.C(x,v),q.push(b[t])):
(l.push(new X("child_removed",this.f.M(x),x)),this.f=this.f.C(x,m)):Wc&&(this.f=this.f.C(x,v),o.push(b[t]))}}var Xc=e||f;if(Xc){var Yc=(t=f!==m)?this.f.Gc():this.f.Ic(),Jb=n,Ma=n,Na=this;(t?a.ic:a.z).call(a,function(a,b){!Ma&&Yc===m&&(Ma=k);if(Ma&&Jb)return k;Jb?(l.push(new X("child_removed",Na.f.M(a),a)),Na.f=Na.f.C(a,m)):Ma&&(o.push(new X("child_added",b,a)),Na.f=Na.f.C(a,b));Yc===a&&(Ma=k);a===Xc&&(Jb=k)})}for(t=0;t<o.length;t++)c=o[t],x=this.f.W(c.U,c.la),l.push(new X("child_added",c.la,c.U,x));
for(t=0;t<q.length;t++)c=q[t],x=this.f.W(c.U,c.la),l.push(new X("child_moved",c.la,c.U,x));for(t=0;t<N.length;t++)c=N[t],x=this.f.W(c.U,c.la),l.push(new X("child_changed",c.la,c.U,x));this.kb&&0<l.length&&l.push(new X("value",this.f));return l};function ed(a,b,c,d){if(a.J())return m;var e=m;(d?a.ic:a.z).call(a,function(a,d){if(fd(b,a,d)&&(e=a,c--,0===c))return k});return e}function fd(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.k()))return n;return k}
dd.prototype.jc=function(a){return this.f.M(a)!==O};dd.prototype.ib=function(a,b,c){var d={};this.f.J()||this.f.z(function(a){d[a]=k});var e=this.f,c=V(c,new H("")),f=new Qa;J(I(f,this.G.path),k);var h=O.$a(a,b),j=[];ad(c,h,a,f,function(a,b,c){j=j.concat(c)});this.Ub(b,j);this.f.J()||this.f.z(function(a){d[a]=k});this.f=e;return d};function gd(a,b){this.u=a;this.g=b;this.Oc=b.Ka;this.ra=new Qa}
gd.prototype.Bb=function(a,b,c,d,e){var f=a.path,h=I(this.ra,f),j=h.i();j===m?(j=new Mc,J(h,j)):z(!j.e(),"We shouldn't be storing empty QueryMaps");var l=a.Ha();if(j.contains(l))Sc(j.get(l),b,c,d,e);else{var o=this.g.Ka.I(f),a="default"===a.Ha()?new Zc(a,o):new dd(a,o);if(Oc(j)||hd(h))j.add(l,a),j.rb||(j.rb=a.G.path);else{var q,N;j.e()||(q=j.toString(),N=j.Za());j.add(l,a);j.rb||(j.rb=a.G.path);j.setActive(id(this,j));q&&N&&this.u.ad(j.path(),q,N)}Oc(j)&&Sa(h,function(a){if(a=a.i()){a.pa&&a.pa();
a.pa=m}});Sc(a,b,c,d,e);(b=(b=Ta(I(this.ra,f),function(a){var b;if(b=a.i())if(b=a.i().defaultView())b=a.i().defaultView().kb;if(b)return k},k))||this.u===m)&&Vc(a)}};function jd(a,b,c,d,e){for(var f=a.get(b),h=n,j=f.fa.length-1;0<=j;j--){var l=f.fa[j];if((!c||l.type===c)&&(!d||l.ea===d)&&(!e||l.V===e))if(f.fa.splice(j,1),h=k,c&&d)break}(c=h&&!(0<f.fa.length))&&a.remove(b);return c}gd.prototype.Xb=function(a,b,c,d){var e=I(this.ra,a.path).i();return e===m?m:kd(this,e,a,b,c,d)};
function kd(a,b,c,d,e,f){var h=b.path(),h=I(a.ra,h),c=c?c.Ha():m,j=[];c&&"default"!==c?jd(b,c,d,e,f)&&j.push(c):ib(b.keys(),function(a){jd(b,a,d,e,f)&&j.push(a)});b.e()&&J(h,m);c=hd(h);if(0<j.length&&!c){for(var l=h,o=h.parent(),c=n;!c&&o;){var q=o.i();if(q){z(!Oc(q));var N=l.name(),t=n;G(q.set,function(a){t=a.jc(N)||t});t&&(c=k)}l=o;o=o.parent()}l=m;if(!Oc(b)){o=b.pa;b.pa=m;var x=[],v=function(b){var c=b.i();c&&Nc(c)?(x.push(c.path()),c.pa==m&&c.setActive(id(a,c))):(c&&c.pa==m&&c.setActive(id(a,
c)),b.z(v))};v(h);l=x;o&&o()}return c?m:l}return m}function ld(a,b,c){Sa(I(a.ra,b),function(a){(a=a.i())&&G(a.set,function(a){Vc(a)})},c,k)}function md(a,b,c){function d(a){for(var b=0;b<c.length;++b)if(c[b].contains(a))return k;return n}var e=a.Oc,f=a.g.Ka;a.Oc=f;var h=b.toString();ad(e,f,b,a.ra,function(b,c,e){if(b.toString().substring(0,h.length)===h){var f=d(b);f&&ld(a,b,n);a.Tb(b,c,e);f&&ld(a,b,k)}else a.Tb(b,c,e)});d(b)&&ld(a,b,k)}
gd.prototype.Tb=function(a,b,c){a=I(this.ra,a).i();a!==m&&G(a.set,function(a){a.Tb(b,c)})};function hd(a){return Ta(a,function(a){return a.i()&&Oc(a.i())})}
function id(a,b){if(a.u){var c=b.keys(),d=a.u,e=function(d){"ok"!==d?(Rb("on() or once() for "+b.path().toString()+" failed: "+d),b&&G(b.set,function(a){for(var b=0;b<a.fa.length;b++){var c=a.fa[b];c.cancel&&(c.V?w(c.cancel,c.V):c.cancel)()}}),kd(a,b)):ib(c,function(a){(a=b.get(a))&&Vc(a)})},f=b.toString(),h=b.path().toString();d.ca[h]=d.ca[h]||{};z(!d.ca[h][f],"listen() called twice for same path/queryId.");d.ca[h][f]={Za:b.Za(),F:e};d.ha&&Bc(d,h,f,b.Za(),e);return w(a.u.ad,a.u,b.path(),b.toString(),
b.Za())}return ca}gd.prototype.ib=function(a,b,c,d){var e={};G(b.set,function(b){b=b.ib(a,c,d);G(b,function(a,b){e[b]=b in e?e:a})});c.J()||c.z(function(a){a in e||(e[a]=n)});return e};
function nd(a,b,c,d,e,f){var h=b.path();if(f!==m){var j=[];d.J()||d.z(function(a,b){j.push({path:h.A(a),Fa:b});delete f[a]});G(f,function(a,b){j.push({path:h.A(b),Fa:O})});return j}var b=a.ib(h,b,d,e),l=O,o=[];G(b,function(b,f){var h=new H(f);b?l=l.C(f,d.I(h)):o=o.concat(od(a,d.I(h),I(c,h),e))});return[{path:h,Fa:l}].concat(o)}
function pd(a,b,c,d,e){for(var f=I(a.ra,b),h=f.parent(),j=n;!j&&h!==m;){var l=h.i();l!==m&&(Nc(l)?j=k:(l=a.ib(b,l,c,d),f=f.name(),l[f]&&(j=k)));f=h;h=h.parent()}if(j)return[{path:b,Fa:c}];h=I(a.ra,b);j=h.i();return j!==m?Nc(j)?[{path:b,Fa:c}]:nd(a,j,h,c,d,e):od(a,c,h,d)}function od(a,b,c,d){var e=c.i();if(e!==m)return Nc(e)?[{path:c.path(),Fa:b}]:nd(a,e,c,b,d,m);if(b.J())return[];var f=[];b.z(function(b,e){var l=new H(b);f=f.concat(od(a,e,I(c,l),d))});return f};function qd(a){this.B=a;this.u=new yc(this.B,w(this.Mb,this),w(this.td,this),w(this.vd,this));this.ac=new Qa;this.g=new Ic;this.P=new gd(this.u,this.g.Ca);this.Jc=new Hc;this.kc=new gd(m,this.Jc);rd(this,n)}r=qd.prototype;r.toString=function(){return(this.B.xb?"https://":"http://")+this.B.host};r.name=function(){return this.B.Wa};
r.Mb=function(a,b,c){var d=[],e=m;if(9<=a.length&&a.lastIndexOf(".priority")===a.length-9)a=new H(a.substring(0,a.length-9)),b!==m&&Ha.test(b)&&(b=Number(b)),c=V(this.g.Aa,a).ec(b),d.push(a);else if(c){var e=b,a=new H(a),c=V(this.g.Aa,a),f;for(f in b){var h=Q(b[f]),c=c.C(f,h);d.push(a.A(f))}}else a=new H(a),c=Q(b),d.push(a);e=pd(this.P,a,c,this.g.K,e);b=n;for(f=0;f<e.length;++f){var c=e[f],h=this.g,j=c.path;W(h.Aa,j,c.Fa);b=Jc(h,j)||b}b&&(a=sd(this,a),td(this,a),a=a.path());md(this.P,a,d)};
r.td=function(){rd(this,k)};r.vd=function(){rd(this,n)};function rd(a,b){var c=new H("/.info/connected");W(a.Jc,c,Q(b));md(a.kc,c,[c])}r.eb=function(a,b){this.u.eb(a,b)};r.Ab=function(){this.u.Ab()};
r.$b=function(a,b,c,d){c!==m&&Ha.test(c)&&(c=Number(c));this.c("set",{path:a.toString(),value:b});var b=Q(b,c),c=pd(this.P,a,b,this.g.K,m),e=this.g.set(a,c),f=this;this.u.put(a.toString(),b.ba(k),function(b){var c="ok"===b;Lc(f.g,e);c||(Rb("set at "+a+" failed: "+b),Jc(f.g,a),b=sd(f,a),td(f,b),md(f.P,b.path(),[]));d&&d(c)});b=sd(this,a);ud(this,a);td(this,b);md(this.P,b.path(),[a])};
r.update=function(a,b,c){this.c("update",{path:a.toString(),value:b});var d=V(this.g.Ca,a),e=k,f=[],h;for(h in b){var e=n,j=Q(b[h]),d=d.C(h,j);f.push(a.A(h))}if(e)M("update() called with empty data.  Don't do anything."),c&&c(k);else{var d=pd(this.P,a,d,this.g.K,b),l=this.g.set(a,d),o=this;Fc(this.u,"m",a.toString(),b,function(b){z("ok"===b||"permission_denied"===b,"merge at "+a+" failed.");b="ok"===b;Lc(o.g,l);c&&c(b)},i);b=sd(this,a);ud(this,a);td(this,b);md(this.P,b.path(),f)}};
r.uc=function(a,b,c){this.c("setPriority",{path:a.toString(),ya:b});var d=V(this.g.K,a).ec(b),d=pd(this.P,a,d,this.g.K,m),e=this.g.set(a,d),f=this;this.u.put(a.toString()+"/.priority",b,function(a){a="ok"===a;Lc(f.g,e);c&&c(a)});a=sd(this,a);td(this,a);md(this.P,a.path(),[])};r.Zb=function(a,b){this.u.xa(a.toString(),b)};r.Bb=function(a,b,c,d,e){".info"===E(a.path)?this.kc.Bb(a,b,c,d,e):this.P.Bb(a,b,c,d,e)};
r.Xb=function(a,b,c,d){if(".info"===E(a.path))this.kc.Xb(a,b,c,d);else if(b=this.P.Xb(a,b,c,d),b!==m){for(var c=this.g,a=a.path,d=[],e=0;e<b.length;++e)d[e]=V(c.Aa,b[e]);W(c.Aa,a,O);for(e=0;e<b.length;++e)W(c.Aa,b[e],d[e])}};r.Ta=function(){this.u.Ta()};r.vb=function(){this.u.vb()};r.c=function(){M("r:"+this.u.id+":",arguments)};function vd(a,b){var c=new Y(a,b);return new R(V(a.g.Ca,b),c)};function ud(a,b){var c=I(a.ac,b);Ta(c,function(b){wd(a,b)});wd(a,c);Sa(c,function(b){wd(a,b)})}function wd(a,b){var c=b.i();if(c!==m){for(var d=-1,e=[],f=0;f<c.length;f++)if(2===c[f].status)z(d===f-1,"All SENT items should be at beginning of queue."),d=f,c[f].status=4,c[f].zc="set";else if(c[f].dc(),c[f].F){var h=vd(a,b.path());e.push(w(c[f].F,m,n,h))}-1===d?J(b,m):c.length=d+1;for(f=0;f<e.length;f++)e[f]()}}
function xd(a,b){var c=b||a.ac;b||yd(a,c);if(!c.e())if(c.i()!==m){var d=zd(a,c);if(0!==d.length){var e=c.path();if(2!==d[0].status&&4!==d[0].status){for(var f=0;f<d.length;f++)z(1===d[f].status,"tryToSendTransactionForNode_: items in queue should all be run."),d[f].status=2,d[f].Wc++;var h=V(a.g.K,e).hash();W(a.g.K,e,V(a.g.Ca,e));var j=V(a.g.K,e).ba(k),l=Gb();J(I(a.g.sb,e),l);a.u.put(e.toString(),j,function(b){a.c("transaction put response",{path:e.toString(),status:b});var h=I(a.g.sb,e),j=h.i();
z(j!==m,"tryToSendTransactionsForNode_: pendingPut should not be null.");j===l&&(J(h,m),W(a.g.K,e,V(a.g.Aa,e)));if("ok"===b){b=[];for(f=0;f<d.length;f++)d[f].status=3,d[f].F&&(h=vd(a,d[f].path),b.push(w(d[f].F,m,k,h))),d[f].dc();yd(a,c);xd(a);for(f=0;f<b.length;f++)b[f]()}else{if("datastale"===b)for(f=0;f<d.length;f++)d[f].status=4===d[f].status?5:1;else{Rb("transaction at "+e+" failed: "+b);for(f=0;f<d.length;f++)d[f].status=5,d[f].zc=b}b=sd(a,e);td(a,b);md(a.P,b.path(),[e])}},h)}}}else c.z(function(b){xd(a,
b)})}
function td(a,b){var c=b.path();W(a.g.Ca,c,V(a.g.K,c));var d=zd(a,b);if(0!==d.length){for(var e=V(a.g.Ca,c),f=[],h=0;h<d.length;h++){var j=Oa(c,d[h].path),l=n,o;z(j!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===d[h].status)l=k,o=d[h].zc;else if(1===d[h].status)if(25<=d[h].Wc)l=k,o="maxretry";else{var q=d[h].update(e.I(j).ba());s(q)?(za("transaction failed: Data returned ",q),e=e.$a(j,Q(q))):(l=k,o="nodata")}l&&(d[h].dc(),d[h].status=3,d[h].F&&(l=new Y(a,d[h].path),j=
new R(e.I(j),l),f.push(w(d[h].F,m,n,j,o))))}d=V(a.g.K,c).k();W(a.g.Ca,c,e.ec(d));xd(a);for(h=0;h<f.length;h++)f[h]()}}function sd(a,b){for(var c,d=a.ac;(c=E(b))!==m&&d.i()===m;)d=I(d,c),b=La(b);return d}function zd(a,b){var c=[];Ad(a,b,c);c.sort(function(a,b){return a.Sc-b.Sc});return c}function Ad(a,b,c){var d=b.i();if(d!==m)for(var e=0;e<d.length;e++)c.push(d[e]);b.z(function(b){Ad(a,b,c)})}
function yd(a,b){var c=b.i();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;J(b,0<c.length?c:m)}b.z(function(b){yd(a,b)})};function Z(){this.Ia={}}Z.Hc=function(){return Z.Kc?Z.Kc:Z.Kc=new Z};Z.prototype.Ta=function(){for(var a in this.Ia)this.Ia[a].Ta()};Z.prototype.interrupt=Z.prototype.Ta;Z.prototype.vb=function(){for(var a in this.Ia)this.Ia[a].vb()};Z.prototype.resume=Z.prototype.vb;var $={Fd:function(){return Z.Hc().Ia}};$.repos=$.Fd;$.qd=function(a){var b=P.prototype.hash;P.prototype.hash=a;return function(){P.prototype.hash=b}};$.hijackHash=$.qd;$.Ha=function(a){return a.Ha()};$.queryIdentifier=$.Ha;$.sd=function(a){return a.n.u.ca};$.listens=$.sd;$.Dd=function(a){return a.n.u.ub};$.refConnection=$.Dd;$.cd=yc;$.DataConnection=$.cd;yc.prototype.sendRequest=yc.prototype.La;yc.prototype.interrupt=yc.prototype.Ta;$.dd=U;$.RealTimeConnection=$.dd;U.prototype.sendRequest=U.prototype.tc;
U.prototype.close=U.prototype.close;$.bd=pb;$.ConnectionTarget=$.bd;$.pd=function(){mc=gc=k};$.forceLongPolling=$.pd;$.Id=function(a,b){a.n.u.rc=b};$.setSecurityDebugCallback=$.Id;var Bd,Cd=0,Dd=[];Bd=function(){var a=(new Date).getTime()+Vb,b=a===Cd;Cd=a;for(var c=Array(8),d=7;0<=d;d--)c[d]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(a%64),a=Math.floor(a/64);z(0===a);a=c.join("");if(b){for(d=11;0<=d&&63===Dd[d];d--)Dd[d]=0;Dd[d]++}else for(d=0;12>d;d++)Dd[d]=Math.floor(64*Math.random());for(d=0;12>d;d++)a+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(Dd[d]);z(20===a.length,"NextPushId: Length should be 20.");return a};function Y(){var a,b,c;if(arguments[0]instanceof qd)c=arguments[0],a=arguments[1];else{A("new Firebase",1,2,arguments.length);a=arguments[0];var d="",e="",f=k;b="";if(u(a)){d=a.indexOf("//");0<=d&&(f="http:"!==a.substring(0,d),a=a.substring(d+2));var h=a.indexOf("/");-1===h&&(h=a.length);d=a.substring(0,h);a=a.substring(h+1);var h=a.indexOf("/"),j=d.split(".");3==j.length?("firebase"===j[1]?(Rb(d+" is deprecated. Please use <YOUR FIREBASE>.firebaseio.com instead"),0<h?(e=a.substring(0,h),b=Sb(a.substring(h))):
(e=a,b="/"),j[0]=e,j[1]="firebaseio",d=j.join(".")):(e=j[0],b=Sb("/"+a)),e=e.toLowerCase()):e=m}f||"undefined"!==typeof window&&(window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:"))&&Rb("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");a=new pb(d,f,e);b=new H(b);f=b.toString();if(!(d=!u(a.host)))if(!(d=0===a.host.length))if(!(d=!xa(a.Wa)))if(d=0!==f.length)f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),d=!(u(f)&&0!==f.length&&
!wa.test(f));d&&g(Error(B("new Firebase",1,n)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".'));arguments[1]?arguments[1]instanceof Z?c=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):c=Z.Hc();f=(a.xb?"https://":"http://")+a.host;d=c.Ia[f];d||(d=new qd(a),c.Ia[f]=d);c=d;a=b}F.call(this,c,a)}ja(Y,F);var Ed=Y,Fd=["Firebase"],Gd=ba;!(Fd[0]in Gd)&&Gd.execScript&&Gd.execScript("var "+Fd[0]);
for(var Hd;Fd.length&&(Hd=Fd.shift());)!Fd.length&&s(Ed)?Gd[Hd]=Ed:Gd=Gd[Hd]?Gd[Hd]:Gd[Hd]={};S&&(module.exports=Y);Y.prototype.name=function(){A("Firebase.name",0,0,arguments.length);return this.path.e()?m:this.path.T<this.path.j.length?this.path.j[this.path.j.length-1]:m};Y.prototype.name=Y.prototype.name;
Y.prototype.A=function(a){A("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof H))if(E(this.path)===m){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Fa("Firebase.child",b)}else Fa("Firebase.child",a);return new Y(this.n,this.path.A(a))};Y.prototype.child=Y.prototype.A;Y.prototype.parent=function(){A("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return a===m?m:new Y(this.n,a)};Y.prototype.parent=Y.prototype.parent;
Y.prototype.toString=function(){A("Firebase.toString",0,0,arguments.length);var a;if(this.parent()===m)a=this.n.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};Y.prototype.toString=Y.prototype.toString;Y.prototype.set=function(a,b){A("Firebase.set",1,2,arguments.length);Ga("Firebase.set",this.path);ya("Firebase.set",a,n);D("Firebase.set",2,b,k);return this.n.$b(this.path,a,m,b)};Y.prototype.set=Y.prototype.set;
Y.prototype.update=function(a,b){A("Firebase.update",1,2,arguments.length);Ga("Firebase.update",this.path);ga(a)||g(Error(B("Firebase.update",1,n)+" must be an object containing the children to replace."));ya("Firebase.update",a,n);D("Firebase.update",2,b,k);return this.n.update(this.path,a,b)};Y.prototype.update=Y.prototype.update;
Y.prototype.$b=function(a,b,c){A("Firebase.setWithPriority",2,3,arguments.length);Ga("Firebase.setWithPriority",this.path);ya("Firebase.setWithPriority",a,n);Ca("Firebase.setWithPriority",2,b,n);D("Firebase.setWithPriority",3,c,k);(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object.");return this.n.$b(this.path,a,b,c)};Y.prototype.setWithPriority=Y.prototype.$b;
Y.prototype.remove=function(a){A("Firebase.remove",0,1,arguments.length);Ga("Firebase.remove",this.path);D("Firebase.remove",1,a,k);this.set(m,a)};Y.prototype.remove=Y.prototype.remove;
Y.prototype.transaction=function(a,b){function c(){}A("Firebase.transaction",1,2,arguments.length);Ga("Firebase.transaction",this.path);D("Firebase.transaction",1,a,n);D("Firebase.transaction",2,b,k);(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object.");var d=this.n,e=this.path;d.c("transaction on "+e);var f=new Y(d,e);f.nc("value",c);var h={path:e,update:a,F:b,Sc:Gb(),Wc:0,dc:function(){f.Kb("value",c)}},j=d.g.Ca,l=h.update(V(j,
e).ba());if(s(l)){za("transaction failed: Data returned ",l);var o=V(d.g.K,e).k();W(j,e,Q(l,o));md(d.P,e,[e]);h.status=1;e=I(d.ac,e);j=e.i()||[];j.push(h);J(e,j);xd(d)}else h.dc(),h.F&&(d=vd(d,e),h.F(n,d))};Y.prototype.transaction=Y.prototype.transaction;Y.prototype.uc=function(a,b){A("Firebase.setPriority",1,2,arguments.length);Ga("Firebase.setPriority",this.path);Ca("Firebase.setPriority",1,a,n);D("Firebase.setPriority",2,b,k);a!==m&&Ha.test(a)&&(a=Number(a));this.n.uc(this.path,a,b)};
Y.prototype.setPriority=Y.prototype.uc;Y.prototype.push=function(a,b){A("Firebase.push",0,2,arguments.length);Ga("Firebase.push",this.path);ya("Firebase.push",a,k);D("Firebase.push",2,b,k);var c=Bd(),c=this.A(c);"undefined"!==typeof a&&a!==m&&c.set(a,b);return c};Y.prototype.push=Y.prototype.push;Y.prototype.Ed=function(){A("Firebase.removeOnDisconnect",0,0,arguments.length);this.n.Zb(this.path,m)};Y.prototype.removeOnDisconnect=Y.prototype.Ed;
Y.prototype.Zb=function(a){A("Firebase.setOnDisconnect",1,1,arguments.length);ya("Firebase.setOnDisconnect",a,n);this.n.Zb(this.path,a)};Y.prototype.setOnDisconnect=Y.prototype.Zb;Y.prototype.eb=function(a,b){A("Firebase.auth",1,2,arguments.length);u(a)||g(Error(B("Firebase.auth",1,n)+"must be a valid credential (a string)."));D("Firebase.auth",2,b,k);this.n.eb(a,b)};Y.prototype.auth=Y.prototype.eb;Y.prototype.Ab=function(){this.n.Ab()};Y.prototype.unauth=Y.prototype.Ab;
function Ob(a,b){z(!b||a===k||a===n,"Can't turn on custom loggers persistently.");a===k?("undefined"!==typeof console&&("function"===typeof console.log?Mb=w(console.log,console):"object"===typeof console.log&&(Mb=function(a){console.log(a)})),b&&L.setItem("logging_enabled","true")):a?Mb=a:(Mb=m,L.removeItem("logging_enabled"))}Y.enableLogging=Ob;Y.TEST_HOOKS=$;Y.Context=Z;
