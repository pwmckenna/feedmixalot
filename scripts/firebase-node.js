function g(a){throw a;}var i=void 0,k=!0,l=null,n=!1;function aa(a){return function(){return this[a]}}function o(a){return function(){return a}}var p,ba=this;function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function u(a){return a!==i}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}Math.floor(2147483648*Math.random()).toString(36);function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return w.apply(l,arguments)}function ja(a,b){function c(){}c.prototype=b.prototype;a.Ld=b.prototype;a.prototype=new c};function ka(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function la(){this.Sb=i}
function ma(a,b,c){switch(typeof b){case "string":na(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==l){c.push("null");break}if("array"==da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],ma(a,a.Sb?a.Sb.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),
na(f,c),c.push(":"),ma(a,a.Sb?a.Sb.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:g(Error("Unknown type: "+typeof b))}}var oa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},pa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function na(a,b){b.push('"',a.replace(pa,function(a){if(a in oa)return oa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return oa[a]=e+b.toString(16)}),'"')};function qa(a){return"undefined"!==typeof JSON&&u(JSON.parse)?JSON.parse(a):ka(a)}function y(a){if("undefined"!==typeof JSON&&u(JSON.stringify))a=JSON.stringify(a);else{var b=[];ma(new la,a,b);a=b.join("")}return a};function ra(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};function z(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);e&&g(Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+"."))}function A(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:sa.assert(n,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")}
function C(a,b,c,d){(!d||u(c))&&"function"!=da(c)&&g(Error(A(a,b,d)+"must be a valid function."))}function ta(a,b,c){u(c)&&(!ga(c)||c===l)&&g(Error(A(a,b,k)+"must be a valid context object."))};var ua={},sa={},va=/[\[\].#$\/]/,wa=/[\[\].#$]/;function xa(a){return v(a)&&0!==a.length&&!va.test(a)}function ya(a,b,c){(!c||u(b))&&za(A(a,1,c),b)}
function za(a,b,c,d){c||(c=0);d||(d=[]);u(b)||g(Error(a+"contains undefined"+Aa(d)));"function"==da(b)&&g(Error(a+"contains a function"+Aa(d)));fa(b)&&(b!=b||b==Number.POSITIVE_INFINITY||b==Number.NEGATIVE_INFINITY)&&g(Error(a+"contains "+b.toString()+Aa(d)));1E3<c&&g(new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)"));v(b)&&(b.length>10485760/3&&10485760<ua.Md.Kd(b).length)&&g(Error(a+"contains a string greater than 10485760 utf8 bytes"+Aa(d)+" ('"+b.substring(0,
50)+"...')"));if(ga(b))for(var e in b)b.hasOwnProperty(e)&&(".priority"!==e&&(".value"!==e&&!xa(e))&&g(Error(a+"contains an invalid key ("+e+")"+Aa(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),d.push(e),za(a,b[e],c+1,d),d.pop())}function Aa(a){return 0==a.length?"":" in property "+a.join(".")}function Ba(a,b,c,d){(!d||u(c))&&(c!==l&&!fa(c)&&!v(c))&&g(Error(A(a,b,d)+"must be a valid firebase priority (null or a string.)"))}
function Ca(a,b,c){if(!c||u(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:g(Error(A(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}function Da(a,b){u(b)&&!xa(b)&&g(Error(A(a,2,k)+'must be a valid firebase key (non-empty string, not containing ".", "#", "$", "/", "[", or "]").'))}
function Ea(a,b){(!v(b)||0===b.length||wa.test(b))&&g(Error(A(a,1,n)+'must be a non-empty string and can\'t contain ".", "#", "$", "[", or "]".'))}function Fa(a,b){".info"===D(b)&&g(Error(a+" failed: Can't modify data under /.info/"))};function E(a,b,c,d,e,f,h){this.n=a;this.path=b;this.oa=c;this.xa=Ha.test(d)?Number(d):d;this.La=e;this.Ba=Ha.test(f)?Number(f):f;this.Aa=h;u(this.xa)&&(u(this.Ba)&&u(this.oa))&&g("Query: Can't combine startAt(), endAt(), and limit().")}E.prototype.fc=function(a,b){z("Query.on",2,4,arguments.length);Ca("Query.on",a,n);C("Query.on",2,b,n);var c=Ia("Query.on",arguments[2],arguments[3]);this.n.yb(this,a,b,c.cancel,c.T);return b};E.prototype.on=E.prototype.fc;
E.prototype.Gb=function(a,b,c){z("Query.off",0,3,arguments.length);Ca("Query.off",a,k);C("Query.off",2,b,k);ta("Query.off",3,c);this.n.pb(this,a,b,c)};E.prototype.off=E.prototype.Gb;E.prototype.td=function(a,b){function c(h){f&&(f=n,e.Gb(a,c),b.call(d.T,h))}z("Query.once",2,4,arguments.length);Ca("Query.once",a,n);C("Query.once",2,b,n);var d=Ia("Query.once",arguments[2],arguments[3]),e=this,f=k;this.fc(a,c,function(){e.Gb(a,c);d.cancel&&d.cancel.call(d.T)})};E.prototype.once=E.prototype.td;
E.prototype.ld=function(a){z("Query.limit",1,1,arguments.length);(!fa(a)||Math.floor(a)!==a||0>=a)&&g("Query.limit: First argument must be a positive integer.");return new E(this.n,this.path,a,this.xa,this.La,this.Ba,this.Aa)};E.prototype.limit=E.prototype.ld;E.prototype.Dd=function(a,b){z("Query.startAt",0,2,arguments.length);Ba("Query.startAt",1,a,k);Da("Query.startAt",b);u(a)||(b=a=l);return new E(this.n,this.path,this.oa,a,b,this.Ba,this.Aa)};E.prototype.startAt=E.prototype.Dd;
E.prototype.dd=function(a,b){z("Query.endAt",0,2,arguments.length);Ba("Query.endAt",1,a,k);Da("Query.endAt",b);return new E(this.n,this.path,this.oa,this.xa,this.La,a,b)};E.prototype.endAt=E.prototype.dd;function Ja(a){var b={};u(a.xa)&&(b.sp=a.xa);u(a.La)&&(b.sn=a.La);u(a.Ba)&&(b.ep=a.Ba);u(a.Aa)&&(b.en=a.Aa);u(a.oa)&&(b.l=a.oa);return b}E.prototype.sa=function(){var a=Ka(Ja(this));return"{}"===a?"default":a};
function Ia(a,b,c){var d={};b&&c?(d.cancel=b,C(a,3,d.cancel,k),d.T=c,ta(a,4,d.T)):b&&("object"===typeof b&&b!==l?d.T=b:"function"===typeof b?d.cancel=b:g(Error(A(a,3,k)+"must either be a cancel callback or a context object.")));return d};function F(a){if(a instanceof F)return a;if(1==arguments.length){this.m=a.split("/");for(var b=0,c=0;c<this.m.length;c++)0<this.m[c].length&&(this.m[b]=this.m[c],b++);this.m.length=b;this.R=0}else this.m=arguments[0],this.R=arguments[1]}function D(a){return a.R>=a.m.length?l:a.m[a.R]}function La(a){var b=a.R;b<a.m.length&&b++;return new F(a.m,b)}F.prototype.toString=function(){for(var a="",b=this.R;b<this.m.length;b++)""!==this.m[b]&&(a+="/"+this.m[b]);return a||"/"};
F.prototype.parent=function(){if(this.R>=this.m.length)return l;for(var a=[],b=this.R;b<this.m.length-1;b++)a.push(this.m[b]);return new F(a,0)};F.prototype.I=function(a){for(var b=[],c=this.R;c<this.m.length;c++)b.push(this.m[c]);if(a instanceof F)for(c=a.R;c<a.m.length;c++)b.push(a.m[c]);else{a=a.split("/");for(c=0;c<a.length;c++)0<a[c].length&&b.push(a[c])}return new F(b,0)};F.prototype.e=function(){return this.R>=this.m.length};
function Ma(a,b){var c=D(a);if(c===l)return b;if(c===D(b))return Ma(La(a),La(b));g("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")};function Na(){this.children={};this.zb=0;this.value=l}function Oa(a,b,c){this.Db=a?a:"";this.lb=b?b:l;this.k=c?c:new Na}function G(a,b){for(var c=b instanceof F?b:new F(b),d=a,e;(e=D(c))!==l;)d=new Oa(e,d,e in d.k.children?d.k.children[e]:new Na),c=La(c);return d}p=Oa.prototype;p.i=function(){return this.k.value};function H(a,b){J("undefined"!==typeof b);a.k.value=b;Pa(a)}p.clear=function(){this.k.value=l;this.k.children={};this.k.zb=0;Pa(this)};p.Cb=function(){return 0<this.k.zb};
p.e=function(){return this.i()===l&&!this.Cb()};p.G=function(a){for(var b in this.k.children)a(new Oa(b,this,this.k.children[b]))};function Qa(a,b,c,d){c&&!d&&b(a);a.G(function(a){Qa(a,b,k,d)});c&&d&&b(a)}function Ra(a,b){for(var c=a.parent();c!==l;){if(b(c))return k;c=c.parent()}return n}p.path=function(){return new F(this.lb===l?this.Db:this.lb.path()+"/"+this.Db)};p.name=aa("Db");p.parent=aa("lb");
function Pa(a){if(a.lb!==l){var b=a.lb,c=a.Db,d=a.e(),e=c in b.k.children;d&&e?(delete b.k.children[c],b.k.zb--,Pa(b)):!d&&!e&&(b.k.children[c]=a.k,b.k.zb++,Pa(b))}};function K(a,b){this.Oa=a?a:Sa;this.Z=b?b:Ta}function Sa(a,b){return a<b?-1:a>b?1:0}p=K.prototype;p.fa=function(a,b){return new K(this.Oa,this.Z.fa(a,b,this.Oa).copy(l,l,n,l,l))};p.remove=function(a){return new K(this.Oa,this.Z.remove(a,this.Oa).copy(l,l,n,l,l))};p.get=function(a){for(var b,c=this.Z;!c.e();){b=this.Oa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return l};
function Ua(a,b){for(var c,d=a.Z,e=l;!d.e();){c=a.Oa(b,d.key);if(0===c){if(d.left.e())return e?e.key:l;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}g("Attempted to find predecessor key for a nonexistent key.  What gives?")}p.e=function(){return this.Z.e()};p.count=function(){return this.Z.count()};p.ib=function(){return this.Z.ib()};p.Ua=function(){return this.Z.Ua()};p.na=function(a){return this.Z.na(a)};p.Ha=function(a){return this.Z.Ha(a)};
p.Ra=function(a){return new Va(this.Z,a)};function Va(a,b){this.Nc=b;for(this.Eb=[];!a.e();)this.Eb.push(a),a=a.left}function Wa(a){if(0===a.Eb.length)return l;var b=a.Eb.pop(),c;c=a.Nc?a.Nc(b.key,b.value):{key:b.key,value:b.value};for(b=b.right;!b.e();)a.Eb.push(b),b=b.left;return c}function Xa(a,b,c,d,e){this.key=a;this.value=b;this.color=c!=l?c:k;this.left=d!=l?d:Ta;this.right=e!=l?e:Ta}p=Xa.prototype;
p.copy=function(a,b,c,d,e){return new Xa(a!=l?a:this.key,b!=l?b:this.value,c!=l?c:this.color,d!=l?d:this.left,e!=l?e:this.right)};p.count=function(){return this.left.count()+1+this.right.count()};p.e=o(n);p.na=function(a){return this.left.na(a)||a(this.key,this.value)||this.right.na(a)};p.Ha=function(a){return this.right.Ha(a)||a(this.key,this.value)||this.left.Ha(a)};function Ya(a){return a.left.e()?a:Ya(a.left)}p.ib=function(){return Ya(this).key};
p.Ua=function(){return this.right.e()?this.key:this.right.Ua()};p.fa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.copy(l,l,l,e.left.fa(a,b,c),l):0===d?e.copy(l,b,l,l,l):e.copy(l,l,l,l,e.right.fa(a,b,c));return Za(e)};function $a(a){if(a.left.e())return Ta;!a.left.C()&&!a.left.left.C()&&(a=ab(a));a=a.copy(l,l,l,$a(a.left),l);return Za(a)}
p.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))!c.left.e()&&(!c.left.C()&&!c.left.left.C())&&(c=ab(c)),c=c.copy(l,l,l,c.left.remove(a,b),l);else{c.left.C()&&(c=bb(c));!c.right.e()&&(!c.right.C()&&!c.right.left.C())&&(c=cb(c),c.left.left.C()&&(c=bb(c),c=cb(c)));if(0===b(a,c.key)){if(c.right.e())return Ta;d=Ya(c.right);c=c.copy(d.key,d.value,l,l,$a(c.right))}c=c.copy(l,l,l,l,c.right.remove(a,b))}return Za(c)};p.C=aa("color");
function Za(a){a.right.C()&&!a.left.C()&&(a=db(a));a.left.C()&&a.left.left.C()&&(a=bb(a));a.left.C()&&a.right.C()&&(a=cb(a));return a}function ab(a){a=cb(a);a.right.left.C()&&(a=a.copy(l,l,l,l,bb(a.right)),a=db(a),a=cb(a));return a}function db(a){var b;b=a.copy(l,l,k,l,a.right.left);return a.right.copy(l,l,a.color,b,l)}function bb(a){var b;b=a.copy(l,l,k,a.left.right,l);return a.left.copy(l,l,a.color,l,b)}
function cb(a){var b,c;b=a.left.copy(l,l,!a.left.color,l,l);c=a.right.copy(l,l,!a.right.color,l,l);return a.copy(l,l,!a.color,b,c)}function eb(){}p=eb.prototype;p.copy=function(){return this};p.fa=function(a,b){return new Xa(a,b,i,i,i)};p.remove=function(){return this};p.get=o(l);p.count=o(0);p.e=o(k);p.na=o(n);p.Ha=o(n);p.ib=o(l);p.Ua=o(l);p.C=o(n);var Ta=new eb;function fb(){};function gb(){this.u=[];this.$b=[];this.Yc=[];this.Lb=[];this.Lb[0]=128;for(var a=1;64>a;++a)this.Lb[a]=0;this.reset()}ja(gb,fb);gb.prototype.reset=function(){this.u[0]=1732584193;this.u[1]=4023233417;this.u[2]=2562383102;this.u[3]=271733878;this.u[4]=3285377520;this.oc=this.fb=0};
function hb(a,b){var c;c||(c=0);for(var d=a.Yc,e=c;e<c+64;e+=4)d[e/4]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3];for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}c=a.u[0];for(var h=a.u[1],j=a.u[2],m=a.u[3],r=a.u[4],q,e=0;80>e;e++)40>e?20>e?(f=m^h&(j^m),q=1518500249):(f=h^j^m,q=1859775393):60>e?(f=h&j|m&(h|j),q=2400959708):(f=h^j^m,q=3395469782),f=(c<<5|c>>>27)+f+r+q+d[e]&4294967295,r=m,m=j,j=(h<<30|h>>>2)&4294967295,h=c,c=f;a.u[0]=a.u[0]+c&4294967295;a.u[1]=a.u[1]+h&
4294967295;a.u[2]=a.u[2]+j&4294967295;a.u[3]=a.u[3]+m&4294967295;a.u[4]=a.u[4]+r&4294967295}gb.prototype.update=function(a,b){u(b)||(b=a.length);var c=this.$b,d=this.fb,e=0;if(v(a))for(;e<b;)c[d++]=a.charCodeAt(e++),64==d&&(hb(this,c),d=0);else for(;e<b;)c[d++]=a[e++],64==d&&(hb(this,c),d=0);this.fb=d;this.oc+=b};function ib(){this.Na={};this.length=0}ib.prototype.setItem=function(a,b){this.Na.hasOwnProperty(a)||(this.length+=1);this.Na[a]=b};ib.prototype.getItem=function(a){return this.Na.hasOwnProperty(a)?this.Na[a]:l};ib.prototype.removeItem=function(a){this.Na.hasOwnProperty(a)&&(this.length-=1,delete this.Na[a])};var jb=l;
if("undefined"!==typeof sessionStorage)try{sessionStorage.setItem("firebase-sentinel","cache"),sessionStorage.removeItem("firebase-sentinel"),jb=sessionStorage}catch(kb){jb=new ib}else jb=new ib;function lb(a,b,c,d){this.host=a;this.sb=b;this.Ea=c;this.M=d||jb.getItem(c)||this.host}function mb(a,b){b!==a.M&&(a.M=b,"s-"===a.M.substr(0,2)&&jb.setItem(a.Ea,a.M))};var nb,ob,pb,qb;function rb(){return ba.navigator?ba.navigator.userAgent:l}qb=pb=ob=nb=n;var sb;if(sb=rb()){var tb=ba.navigator;nb=0==sb.indexOf("Opera");ob=!nb&&-1!=sb.indexOf("MSIE");pb=!nb&&-1!=sb.indexOf("WebKit");qb=!nb&&!pb&&"Gecko"==tb.product}var ub=ob,vb=qb,wb=pb;var xb;if(nb&&ba.opera){var yb=ba.opera.version;"function"==typeof yb&&yb()}else vb?xb=/rv\:([^\);]+)(\)|;)/:ub?xb=/MSIE\s+([^\);]+)(\)|;)/:wb&&(xb=/WebKit\/(\S+)/),xb&&xb.exec(rb());var zb=l,Ab=l;
function Bb(a,b){ea(a)||g(Error("encodeByteArray takes an array as a parameter"));if(!zb){zb={};Ab={};for(var c=0;65>c;c++)zb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Ab[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Ab:zb,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,j=h?a[e+1]:0,m=e+2<a.length,r=m?a[e+2]:0,q=f>>2,f=(f&3)<<4|j>>4,j=(j&15)<<2|r>>6,r=r&63;m||(r=64,h||(j=64));d.push(c[q],c[f],c[j],c[r])}return d.join("")}
;var Cb,Fb=1;Cb=function(){return Fb++};function J(a,b){a||g(Error("Firebase INTERNAL ASSERT FAILED:"+b))}function Gb(a){var b=ra(a),a=new gb;a.update(b);var b=[],c=8*a.oc;56>a.fb?a.update(a.Lb,56-a.fb):a.update(a.Lb,64-(a.fb-56));for(var d=63;56<=d;d--)a.$b[d]=c&255,c/=256;hb(a,a.$b);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c++]=a.u[d]>>e&255;return Bb(b)}
function Hb(){for(var a="",b=0;b<arguments.length;b++)a=ea(arguments[b])?a+Hb.apply(l,arguments[b]):"object"===typeof arguments[b]?a+y(arguments[b]):a+arguments[b],a+=" ";return a}var Ib=l;function L(){if(Ib){var a=Hb.apply(l,arguments);Ib(a)}}function Jb(a){return function(){L(a,arguments)}}function Kb(){if("undefined"!==typeof console){var a=Hb.apply(l,arguments);console.log("FIREBASE INTERNAL ERROR: "+a)}}
function Lb(){if("undefined"!==typeof console){var a=Hb.apply(l,arguments);console.log("FIREBASE WARNING: "+a)}}function Mb(a){for(var b="",a=a.split("/"),c=0;c<a.length;c++)if(0<a[c].length){var d=a[c];try{d=decodeURIComponent(d.replace(/\+/g," "))}catch(e){}b+="/"+d}return b}var Ha=/^[\-+]?[0-9]*\.?[0-9]+(e\-|e\+|E\-|E\+|e|E)?[0-9]*$/;function Nb(a,b){return a!==b?a===l?-1:b===l?1:typeof a!==typeof b?"number"===typeof a?-1:1:a>b?1:-1:0}
function Ob(a,b){if(b&&a in b)return b[a];g(Error("Missing required key ("+a+") in object: "+JSON.stringify(b)))}var Pb=0;function Ka(a){if("object"!==typeof a||a===l)return y(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=y(b[d]),c+=":",c+=Ka(a[b[d]]);return c+"}"}function Qb(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}
function Rb(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])};function Sb(a,b){this.ya=a;J(this.ya!==l,"LeafNode shouldn't be created with null value.");this.Xa="undefined"!==typeof b?b:l}p=Sb.prototype;p.ga=o(k);p.j=aa("Xa");p.Yb=function(a){return new Sb(this.ya,a)};p.L=function(){return M};p.K=function(a){return D(a)===l?this:M};p.U=o(l);p.B=function(a,b){return(new N(new K,this.Xa)).B(a,b)};p.xb=function(a,b){var c=D(a);return c===l?b:this.B(c,M.xb(La(a),b))};p.e=o(n);p.Fb=o(0);
p.$=function(a){return a&&this.j()!==l?{".value":this.i(),".priority":""+this.j()}:this.i()};p.hash=function(){var a="";this.j()!==l&&(a+="priority:"+this.j()+":");a+=typeof this.ya+":"+this.ya;return Gb(a)};p.i=aa("ya");p.toString=function(){return"string"===typeof this.ya?'"'+this.ya+'"':this.ya};function N(a,b){this.O=a||new K;this.Xa="undefined"!==typeof b?b:l}p=N.prototype;p.ga=o(n);p.j=aa("Xa");p.Yb=function(a){return new N(this.O,a)};p.B=function(a,b){var c=this.O.remove(a);b&&b.e()&&(b=l);b!==l&&(c=c.fa(a,b));return b&&b.j()!==l?new Tb(c,l,this.Xa):new N(c,this.Xa)};p.xb=function(a,b){var c=D(a);if(c===l)return b;var d=this.L(c).xb(La(a),b);return this.B(c,d)};p.e=function(){return this.O.e()};p.Fb=function(){return this.O.count()};var Ub=/^\d+$/;p=N.prototype;
p.$=function(a){if(this.e())return l;var b={},c=0,d=0,e=k;this.G(function(f,h){b[f]=h.$(a);c++;e&&Ub.test(f)?d=Math.max(d,Number(f)):e=n});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&this.j()!==l&&(b[".priority"]=""+this.j());return b};p.hash=function(){var a="";this.j()!==l&&(a+="priority:"+this.j()+":");this.G(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});return""===a?"":Gb(a)};p.L=function(a){a=this.O.get(a);return a===l?M:a};
p.K=function(a){var b=D(a);return b===l?this:this.L(b).K(La(a))};p.U=function(a){return Ua(this.O,a)};p.zc=function(){return this.O.ib()};p.Bc=function(){return this.O.Ua()};p.G=function(a){return this.O.na(a)};p.bc=function(a){return this.O.Ha(a)};p.Ra=function(){return this.O.Ra()};p.toString=function(){var a="{",b=k;this.G(function(c,d){b?b=n:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};var M=new N(new K);function Tb(a,b,c){N.call(this,a,c);b===l&&(b=new K(Vb),a.na(function(a,c){b=b.fa({name:a,ra:c.j()},c)}));this.Ka=b}ja(Tb,N);p=Tb.prototype;p.B=function(a,b){var c=this.L(a),d=this.O,e=this.Ka;c!==l&&(d=d.remove(a),e=e.remove({name:a,ra:c.j()}));b&&b.e()&&(b=l);b!==l&&(d=d.fa(a,b),e=e.fa({name:a,ra:b.j()},b));return new Tb(d,e,this.j())};p.U=function(a,b){var c=Ua(this.Ka,{name:a,ra:b.j()});return c?c.name:l};p.G=function(a){return this.Ka.na(function(b,c){return a(b.name,c)})};
p.bc=function(a){return this.Ka.Ha(function(b,c){return a(b.name,c)})};p.Ra=function(){return this.Ka.Ra(function(a,b){return{key:a.name,value:b}})};p.zc=function(){return this.Ka.ib().name};p.Bc=function(){return this.Ka.Ua().name};function O(a,b){if("object"!==typeof a)return new Sb(a,b);if(a===l)return M;var c=l;".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);c!==l&&(c=Ha.test(c)?Number(c):c);if(".value"in a&&a[".value"]!==l)return new Sb(a[".value"],c);var c=new N(new K,c),d;for(d in a)if(a.hasOwnProperty(d)&&"."!==d.substring(0,1)){var e=O(a[d]);if(e.ga()||!e.e())c=c.B(d,e)}return c}function Vb(a,b){return Nb(a.ra,b.ra)||(a.name!==b.name?a.name<b.name?-1:1:0)};function P(a,b){this.k=a;this.Rb=b}P.prototype.$=function(){z("Firebase.DataSnapshot.val",0,0,arguments.length);return this.k.$()};P.prototype.val=P.prototype.$;P.prototype.gd=function(){z("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.k.$(k)};P.prototype.exportVal=P.prototype.gd;P.prototype.I=function(a){z("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));Ea("Firebase.DataSnapshot.child",a);var b=new F(a),c=this.Rb.I(b);return new P(this.k.K(b),c)};
P.prototype.child=P.prototype.I;P.prototype.jd=function(a){z("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Ea("Firebase.DataSnapshot.hasChild",a);var b=new F(a);return!this.k.K(b).e()};P.prototype.hasChild=P.prototype.jd;P.prototype.j=function(){z("Firebase.DataSnapshot.getPriority",0,0,arguments.length);var a=this.k.j();return a===l?a:""+a};P.prototype.getPriority=P.prototype.j;
P.prototype.forEach=function(a){z("Firebase.DataSnapshot.forEach",1,1,arguments.length);C("Firebase.DataSnapshot.forEach",1,a,n);if(this.k.ga())return n;var b=this;return this.k.G(function(c,d){return a(new P(d,b.Rb.I(c)))})};P.prototype.forEach=P.prototype.forEach;P.prototype.Cb=function(){z("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.k.ga()?n:!this.k.e()};P.prototype.hasChildren=P.prototype.Cb;
P.prototype.name=function(){z("Firebase.DataSnapshot.name",0,0,arguments.length);return this.Rb.name()};P.prototype.name=P.prototype.name;P.prototype.Fb=function(){z("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.k.Fb()};P.prototype.numChildren=P.prototype.Fb;P.prototype.xd=function(){z("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.Rb};P.prototype.ref=P.prototype.xd;var Wb={};var Q;Q=k;function Xb(a){this.ic=a;this.Nb=[];this.Qa=0;this.ac=-1;this.Fa=l}function Yb(a,b,c){for(a.Nb[b]=c;a.Nb[a.Qa];){b=a.Nb[a.Qa];delete a.Nb[a.Qa];for(c=0;c<b.length;++c)b[c]&&a.ic(b[c]);if(a.Qa===a.ac){a.Fa&&(clearTimeout(a.Fa),a.Fa(),a.Fa=l);break}a.Qa++}};if(Q){var Zb=require("http"),ac=function(a,b,c){this.Ab=a;this.c=Jb(a);this.z=b;this.Ja=c;this.V=this.Da=n;this.X=new $b;this.buffer={};this.Y=[];this.vd=function(a){b.host!==b.M&&(a.ns=b.Ea);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return"/.hp?"+c.join("&")}};ac.isAvailable=o(n);p=ac.prototype;p.open=function(a,b){this.bb=0;this.H=b;this.ud=new Xb(a);var c=this;this.P=setTimeout(function(){c.c("Timed out trying to connect.");c.close();c.P=l},3E4);var d=Math.floor(1E8*Math.random()),
e={start:"t"};e.ser=d;e.v="4";this.Ja&&(e.s=this.Ja);this.c("Connecting via httppoll to "+this.z.M);this.dc(d,e)};p.start=function(){this.Ed()};p.send=function(a){for(var a=y(a),a=Bb(ra(a),k),a=Qb(a,1048576),b=0;b<a.length;++b)this.ed(this.bb,a.length,a[b]),this.bb++};p.close=function(){this.V||(this.c("Httppoll is being closed"),this.bd(),this.wa())};p.ed=function(a,b,c){this.Y.push({lc:a,qc:b,eb:c});this.$a&&this.pa()};p.Ed=function(){this.$a=k;for(this.cb=Math.floor(1E8*Math.random());this.pa(););
};p.pa=function(){if(this.$a&&this.X.count()<(0<this.Y.length?2:1)){var a=this.cb++,b={};b.id=this.id;b.pw=this.Wa;b.ser=a;for(var c=[];0<this.Y.length;)if(1048608>=this.Y[0].eb.length){var d=this.Y.shift();c.push(d.lc+":"+d.qc+":"+d.eb)}else break;var e=this,d=setTimeout(function(){e.X.remove(a);e.pa()},25E3);this.X.add(a,d);this.dc(a,b,c.join("\n"));return k}return n};p.ia=function(){this.V||(this.c("Httppoll is closing itself"),this.wa(),this.H&&(this.H(this.Da),this.H=l))};p.wa=function(){this.V=
k;this.$a=n;this.sc();Rb(this.X.set,function(a,b){clearTimeout(b)});this.X.clear()};p.od=function(a,b){var c=a.toString();this.buffer[b]=b in this.buffer?this.buffer[b]+c:c};p.qd=function(a){if(a in this.buffer){var b=this.buffer[a];delete this.buffer[a];b=qa(b);a=parseInt(Ob("x-firebase-response",a.headers));Yb(this.ud,a,b)}};p.sc=function(){this.P&&(clearTimeout(this.P),this.P=l)};p.Zc=function(a){(a=this.X.get(a))&&clearTimeout(a)};p.sd=function(a,b){this.sc();this.Zc(a);this.X.remove(a);this.pa();
if(200!=b.statusCode)this.c("error code received: "+b.statusCode),this.ia();else{"x-firebase-poll-id"in b.headers&&"x-firebase-poll-pw"in b.headers&&(this.id=b.headers["x-firebase-poll-id"],this.Wa=b.headers["x-firebase-poll-pw"]);"x-firebase-poll-close"in b.headers&&(this.c("recvd close"),this.$a=n);var c=this;b.on("data",function(a){c.od(a,b)});b.on("end",function(){c.qd(b)})}};p.dc=function(a,b,c){var c=c||"",b=this.vd(b),d=this.z.M,e=d.split(":"),f=this.z.sb?443:80;1<e.length&&(d=e[0],f=parseInt(e[1]));
var h=this,b=Zb.request({method:"POST",host:d,port:f,path:b},function(b){h.sd(a,b)});b.on("error",function(a){h.c("An error occurred: "+a.message);h.ia()});b.end(c)};p.bd=function(){if(this.$a&&this.id&&this.Wa){this.c("doing a disconnect");var a={};a.id=this.id;a.pw=this.Wa;a.disconn="t";this.dc(0,a)}}}else ac={isAvailable:o(n)};var bc=l;Q?bc=require("faye-websocket").Client:"undefined"!==typeof MozWebSocket?bc=MozWebSocket:"undefined"!==typeof WebSocket&&(bc=WebSocket);function R(a,b,c){this.Ab=a;this.c=Jb(this.Ab);this.gb=l;this.state=0;this.frames=l;this.Uc=0;this.Pa=(b.sb?"wss://":"ws://")+b.M+"/.ws?v=4";b.host!==b.M&&(this.Pa=this.Pa+"&ns="+b.Ea);c&&(this.Pa=this.Pa+"&s="+c)}var cc;
R.prototype.open=function(a,b){this.qa=b;this.Jb=a;this.c("websocket connecting to "+this.Pa);this.Q=new bc(this.Pa);this.Da=n;var c=this;this.Q.onopen=function(){c.c("Websocket connected.");c.state=1;c.Da=k};this.Q.onclose=function(){c.c("Websocket connection was disconnected.");c.Q=l;c.ia()};this.Q.onmessage=function(a){c.Q!==l&&(a=a.data,1===c.state?(c.Uc=Number(a),c.state=2,c.frames=[]):2===c.state?(c.frames.push(a),c.frames.length==c.Uc&&(a=qa(c.frames.join("")),c.state=1,dc(c),c.Jb(a))):Kb("Websocket got a frame in an unknown state: "+
c.state))};this.Q.onerror=function(){c.c("WebSocket error.  Closing connection.");c.ia()}};R.prototype.start=function(){};R.isAvailable=function(){return!("undefined"!==typeof navigator&&"Opera"===navigator.appName)&&bc!==l&&!cc};R.prototype.send=function(a){dc(this);a=y(a);a=Qb(a,16384);this.Q.send(String(a.length));for(var b=0;b<a.length;b++)this.Q.send(a[b])};R.prototype.wa=function(){this.V=k;this.gb&&(clearTimeout(this.gb),this.gb=l);this.Q&&(this.Q.close(),this.Q=l)};
R.prototype.ia=function(){this.V||(this.c("WebSocket is closing itself"),this.wa(),this.qa&&(this.qa(this.Da),this.qa=l))};R.prototype.close=function(){this.V||(this.c("WebSocket is being closed"),this.wa())};function dc(a){clearTimeout(a.gb);a.gb=setInterval(function(){a.Q.send("0");dc(a)},45E3)};function $b(){this.set={}}p=$b.prototype;p.add=function(a,b){this.set[a]=b!==l?b:k};p.get=function(a){return this.set[a]};p.remove=function(a){delete this.set[a]};p.clear=function(){this.set={}};p.e=function(){for(var a in this.set)return n;return k};p.count=function(){var a=0,b;for(b in this.set)a++;return a};var ec="pLPCommand",fc="pRTLPCB";function S(a,b,c){this.Ab=a;this.c=Jb(a);this.Jd=b;this.Ja=c;this.Da=n;this.Za=function(a){b.host!==b.M&&(a.ns=b.Ea);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.sb?"https://":"http://")+b.M+"/.lp?"+c.join("&")}}
S.prototype.open=function(a,b){function c(){if(!d.V){d.va=new gc(function(a,b,c){d.va&&((d.P&&(clearTimeout(d.P),d.P=l),d.Da=k,"start"==a)?(d.id=b,d.Wa=c):"close"===a?b?(d.va.Qc=n,a=d.Gc,a.ac=b,a.Fa=function(){d.ia()},a.ac<a.Qa&&(a.Fa(),a.Fa=l)):d.ia():g(Error("Unrecognized command received: "+a)))},function(a,b){Yb(d.Gc,a,b)},function(){d.ia()},d.Za);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());a.v="4";d.Ja&&(a.s=d.Ja);a=d.Za(a);d.c("Connecting via long-poll to "+a);hc(d.va,a,function(){})}}
this.bb=0;this.H=b;this.Gc=new Xb(a);this.V=n;var d=this;this.P=setTimeout(function(){d.c("Timed out trying to connect.");d.close();d.P=l},3E4);if(Q||"complete"===document.readyState)c();else{var e=n,f=function(){document.body?e||(e=k,c()):setTimeout(f,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,n),window.addEventListener("load",f,n)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()},n),window.attachEvent("onload",
f,n))}};S.prototype.start=function(){var a=this.va,b=this.Wa;a.ec=this.id;a.Fc=b;for(a.Zb=k;a.pa(););a=this.id;b=this.Wa;if(!Q){this.Va=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;a=this.Za(c);this.Va.src=a;this.Va.style.display="none";document.body.appendChild(this.Va)}};S.isAvailable=function(){return!Q||i};S.prototype.wa=function(){this.V=k;this.va&&(this.va.close(),this.va=l);this.Va&&(document.body.removeChild(this.Va),this.Va=l);this.P&&(clearTimeout(this.P),this.P=l)};
S.prototype.ia=function(){this.V||(this.c("Longpoll is closing itself"),this.wa(),this.H&&(this.H(this.Da),this.H=l))};S.prototype.close=function(){this.V||(this.c("Longpoll is being closed."),this.wa())};S.prototype.send=function(a){for(var a=y(a),a=Bb(ra(a),k),a=Qb(a,1840),b=0;b<a.length;b++){var c=this.va;c.Y.push({lc:this.bb,qc:a.length,eb:a[b]});c.Zb&&c.pa();this.bb++}};
function gc(a,b,c,d){this.Za=d;this.qa=c;this.X=new $b;this.Y=[];this.cb=Math.floor(1E8*Math.random());this.Qc=k;if(Q)this.$c=a,this.rd=b;else{c=Cb();window[ec+c]=a;window[fc+c]=b;a=document.createElement("iframe");a.style.display="none";document.body?document.body.appendChild(a):g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");a.contentDocument?a.ma=a.contentDocument:a.contentWindow?a.ma=a.contentWindow.document:a.document&&(a.ma=a.document);
this.ha=a;a="<html><body><script>\nfunction "+ec+'(c, a1, a2, a3, a4) {\nparent.window["'+ec+c+'"](c, a1, a2, a3, a4);\n}\nfunction '+fc+'(pN, data) {\nparent.window["'+fc+c+'"](pN, data);\n}\n<\/script></body></html>\n';try{this.ha.ma.open(),this.ha.ma.write(a),this.ha.ma.close()}catch(e){L("frame writing exception"),e.stack&&L(e.stack),L(e)}}}
gc.prototype.close=function(){this.Zb=n;this.ha&&(this.ha.ma.body.innerHTML="",document.body.removeChild(this.ha),this.ha=l);if(Q&&this.ec){var a={disconn:"t"};a.id=this.ec;a.pw=this.Fc;a=this.Za(a);ic(a)}if(a=this.qa)this.qa=l,a()};
gc.prototype.pa=function(){if(this.Zb&&this.Qc&&this.X.count()<(0<this.Y.length?2:1)){this.cb++;var a={};a.id=this.ec;a.pw=this.Fc;a.ser=this.cb;for(var a=this.Za(a),b="",c=0;0<this.Y.length;)if(1870>=this.Y[0].eb.length+30+b.length){var d=this.Y.shift(),b=b+"&seg"+c+"="+d.lc+"&ts"+c+"="+d.qc+"&d"+c+"="+d.eb;c++}else break;var a=a+b,e=this.cb,f=this;f.X.add(e);var h=function(){f.X.remove(e);f.pa()},j=setTimeout(h,25E3);hc(this,a,function(){clearTimeout(j);h()});return k}return n};
function hc(a,b,c){Q?a.cd(b,c):setTimeout(function(){try{var d=a.ha.ma.createElement("script");d.type="text/javascript";d.async=k;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;if(!a||"loaded"===a||"complete"===a)d.onload=d.onreadystatechange=l,d.parentNode&&d.parentNode.removeChild(d),c()};d.onerror=function(){L("Long-poll script failed to load.");a.close()};a.ha.ma.body.appendChild(d)}catch(e){}},1)}
if("undefined"!==typeof Q&&Q){var ic=function(a,b){jc||(jc=require("request"));jc(a,function(a,d,e){a&&g("Rest request for "+url+" failed.");b&&b(e)})},jc;gc.prototype.cd=function(a,b){var c=this;ic({url:a,Id:k},function(a){c.fd(a);b()})};gc.prototype.fd=function(a){eval("var document = function("+ec+", "+fc+") {"+a+"}");document(this.$c,this.rd)}};function kc(){var a=[];Rb(lc,function(b,c){c&&c.isAvailable()&&a.push(c)});this.Wb=a}var lc=[S,ac,R];function T(a,b,c,d,e,f){this.id=a;this.c=Jb("c:"+this.id+":");this.ic=c;this.jb=d;this.H=e;this.hc=f;this.z=b;this.Mb=[];this.tc=0;this.pc=new kc;this.ka=0;this.c("Connection created");mc(this)}function mc(a){var b;var c=a.pc;0<c.Wb.length?b=c.Wb[0]:g(Error("No transports available"));a.F=new b("c:"+a.id+":"+a.tc++,a.z);b=nc(a,a.F);c=oc(a,a.F);a.vb=a.F;a.rb=a.F;a.F.open(b,c);a.o=l}
function oc(a,b){return function(c){b===a.F?(a.F=l,!c&&0===a.ka?(a.c("Realtime connection failed."),"s-"===a.z.M.substr(0,2)&&(jb.removeItem(a.z.Ea),a.z.M=a.z.host)):1===a.ka&&a.c("Realtime connection lost."),a.close()):b===a.o?(c=a.o,a.o=l,(a.vb===c||a.rb===c)&&a.close()):a.c("closing an old connection")}}
function nc(a,b){return function(c){if(2!=a.ka)if(b===a.rb){var d=Ob("t",c),c=Ob("d",c);if("c"==d){if(d=Ob("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Ja=c.s;mb(a.z,f);if(0==a.ka&&(a.F.start(),c=a.F,a.c("Realtime connection established."),a.F=c,a.ka=1,a.jb&&(a.jb(d),a.jb=l),"4"!==e&&Lb("Protocol version mismatch detected"),c=1<a.pc.Wb.length?a.pc.Wb[1]:l))a.o=new c("c:"+a.id+":"+a.tc++,a.z,a.Ja),a.o.open(nc(a,a.o),oc(a,a.o))}else if("n"===d){a.c("recvd end transmission on primary");
a.rb=a.o;for(c=0;c<a.Mb.length;++c)a.Hb(a.Mb[c]);a.Mb=[];pc(a)}else"s"===d?(a.c("Connection shutdown command received. Shutting down..."),a.hc&&(a.hc(c),a.hc=l),a.H=l,a.close()):"r"===d?(a.c("Reset packet received.  New host: "+c),mb(a.z,c),1===a.ka?a.close():(qc(a),mc(a))):Kb("Unknown control packet command: "+d)}else"d"==d&&a.Hb(c)}else b===a.o?(d=Ob("t",c),c=Ob("d",c),"c"==d?"t"in c&&(c=c.t,"a"===c?(a.o.start(),a.c("sending client ack on secondary"),a.o.send({t:"c",d:{t:"a",d:{}}}),a.c("Ending transmission on primary"),
a.F.send({t:"c",d:{t:"n",d:{}}}),a.vb=a.o,pc(a)):"r"===c&&(a.c("Got a reset on secondary, closing it"),a.o.close(),(a.vb===a.o||a.rb===a.o)&&a.close())):"d"==d?a.Mb.push(c):g(Error("Unknown protocol layer: "+d))):a.c("message on old connection")}}T.prototype.mc=function(a){a={t:"d",d:a};1!==this.ka&&g("Connection is not connected");this.vb.send(a)};function pc(a){a.vb===a.o&&a.rb===a.o&&(a.c("cleaning up and promoting a connection: "+a.o.Ab),a.F=a.o,a.o=l)}T.prototype.Hb=function(a){this.ic(a)};
T.prototype.close=function(){2!==this.ka&&(this.c("Closing realtime connection."),this.ka=2,qc(this),this.H&&(this.H(),this.H=l))};function qc(a){a.c("Shutting down all connections");a.F&&(a.F.close(),a.F=l);a.o&&(a.o.close(),a.o=l)};function rc(a,b,c,d){this.id=sc++;this.c=Jb("p:"+this.id+":");this.ub=k;this.ba={};this.N=[];this.kb=0;this.gc={};this.ea=n;this.Qb=1E3;this.Ib=b;this.Ic=c;this.H=d;this.z=a;this.kc=l;this.Ob=[];this.ua={};this.Bd=0;this.hb=this.Ec=l;setTimeout(w(this.vc,this),0)}var sc=0,tc=0;p=rc.prototype;
p.Ia=function(a,b,c,d){var e=++this.Bd,a={r:e,a:a,b:b};this.c(JSON.stringify(a));this.ea?this.ob.mc(a):this.Ob.push(a);var f=this,a=setTimeout(function(){var a=f.ua[e];a&&(delete f.ua[e],a.da&&a.da.Kb&&a.da.Kb())},45E3);this.ua[e]={da:{Jb:c,Kb:d},Sc:a}};function uc(a,b,c,d){var e=Ka(c);a.c("Listen on "+b+" for "+e);var f={p:b};"{}"!==e&&(f.q=c);a.Ia("l",f,function(e){a.c("listen response",e);e=e.s;"ok"!==e&&vc(a,b,c);d&&d(e)},function(){a.c("timed out on listen...")})}
p.ab=function(a,b){this.Bb={ad:a,xc:n,ca:b};this.c("Authenticating using credential: "+this.Bb);wc(this)};p.wb=function(){delete this.Bb;this.ea&&this.Ia("unauth",{},function(){},function(){})};function wc(a){var b=a.Bb;a.ea&&b&&a.Ia("auth",{cred:b.ad},function(c){(c="ok"==c.s)||delete a.Bb;b.xc||(b.xc=k,b.ca&&b.ca(c))},function(){a.c("timed out on auth...")})}
p.Fd=function(a,b){vc(this,a,b);if(this.ea){var c=Ka(b);this.c("Unlisten on "+a+" for "+c);var d=this,e={p:a};"{}"!==c&&(e.q=b);this.Ia("u",e,l,function(){d.c("timed out on unlisten...")})}};p.qa=function(a,b){this.gc[a]=b;this.ea&&xc(this,a,b)};function xc(a,b,c){b={p:b,d:c};a.c("onDisconnect",b);a.Ia("o",b,function(a){"ok"!==a.s&&g("onDisconnect failed: "+y(a.d))},function(){a.c("timed out on onDisconnect...")})}p.put=function(a,b,c,d){yc(this,"p",a,b,c,d)};
function yc(a,b,c,d,e,f){c={p:c,d:d};u(f)&&(c.h=f);a.N.push({action:b,Mc:c,D:e});a.kb++;b=a.N.length-1;a.ea&&zc(a,b)}function zc(a,b){var c=a.N[b].action,d=a.N[b].D;a.Ia(c,a.N[b].Mc,function(e){a.c(c+" response",e);delete a.N[b];a.kb--;0===a.kb&&(a.N=[]);d&&d(e.s)},function(){a.c("timed out on put...")})}
p.Hb=function(a){if("r"in a){this.c("from server: "+JSON.stringify(a));var b=a.r,c=this.ua[b];c&&(delete this.ua[b],clearTimeout(c.Sc),c.da&&c.da.Jb&&c.da.Jb(a.b))}else"error"in a&&g("A server-side error has occurred: "+a.error),"a"in a&&(b=a.a,a=a.b,this.c("handleServerMessage",b,a),"d"===b?this.Ib(a.p,a.d):"m"===b?this.Ib(a.p,a.d,k):"c"===b?(a=vc(this,a.p,a.q))&&a.D&&a.D("permission_denied"):"sd"===b?this.kc?this.kc(a):"msg"in a&&"undefined"!==typeof console&&console.log("FIREBASE: "+a.msg.replace("\n",
"\nFIREBASE: ")):Kb("Unrecognized action received from server: "+y(b)+"\nAre you using the latest client?"))};p.jb=function(a){this.c("connection ready");this.ea=k;this.hb=(new Date).getTime();Pb=a-(new Date).getTime();for(a=0;a<this.Ob.length;a++)this.ob.mc(this.Ob[a]);this.Ob=[];wc(this);for(var b in this.ba)for(var c in this.ba[b])a=this.ba[b][c],uc(this,b,a.wd,a.D);for(b in this.gc)xc(this,b,this.gc[b]);for(b=0;b<this.N.length;b++)this.N[b]&&zc(this,b);this.Ic&&this.Ic()};
p.Kc=function(){this.ea=n;this.c("data client disconnected");if(!this.ub){for(var a=0;a<this.N.length;a++){var b=this.N[a];b&&"h"in b.Mc&&(b.D&&b.D("disconnect"),delete this.N[a],this.kb--)}0===this.kb&&(this.N=[]);for(var c in this.ua)a=this.ua[c],delete this.ua[c],a!==l&&(a.da&&a.da.Kb&&a.da.Kb(),clearTimeout(a.Sc))}var d=w(function(){this.vc()},this);this.ub?(this.hb&&(3E4<(new Date).getTime()-this.hb&&(this.Qb=1E3),this.hb=l),c=Math.max(0,this.Qb-((new Date).getTime()-this.Ec)),c*=Math.random(),
this.c("Trying to reconnect in "+c+"ms"),setTimeout(d,c),this.Qb=Math.min(3E4,1.3*this.Qb)):this.Oc=function(){setTimeout(d,0)};this.H&&this.H()};p.vc=function(){if(this.ub){this.c("Making a connection attempt");this.Ec=(new Date).getTime();this.hb=l;var a=w(this.Hb,this),b=w(this.jb,this),c=w(this.Kc,this),d=this.id+":"+tc++;this.ob=new T(d,this.z,a,b,c,function(a){g(Error(a))})}};p.Sa=function(){this.ub=n;this.ob?this.ob.close():this.Kc()};p.qb=function(){this.ub=k;this.Oc();this.Oc=i};
function vc(a,b,c){var b=(new F(b)).toString(),c=Ka(c||{}),d=a.ba[b][c];delete a.ba[b][c];return d};function Ac(){this.Ya=M}function U(a,b){return a.Ya.K(b)}function V(a,b,c){a.Ya=a.Ya.xb(b,c)};function Bc(){this.tb=new Ac;this.W=new Ac;this.za=new Ac;this.mb=new Oa}function Cc(a,b){for(var c=U(a.tb,b),d=U(a.W,b),e=G(a.mb,b),f=n,h=e;h!==l;){if(h.i()!==l){f=k;break}h=h.parent()}if(f)return n;c=Dc(c,d,e);return c!==d?(V(a.W,b,c),k):n}function Dc(a,b,c){if(c.e())return a;if(c.i()!==l)return b;a=a||M;c.G(function(d){var d=d.name(),e=a.L(d),f=b.L(d),h=G(c,d),e=Dc(e,f,h);a=a.B(d,e)});return a}Bc.prototype.set=function(a,b){var c=Cb();H(G(this.mb,a),c);V(this.W,a,b);return c};
function Ec(a,b,c){a=G(a.mb,b);b=a.i();J(b!==l,"pendingPut should not be null.");b===c&&H(a,l)};function Fc(){this.Ca=[]}function Gc(a,b){if(0!==b.length){a.Ca.push.apply(a.Ca,b);for(var c=0;c<a.Ca.length;c++)if(a.Ca[c]){var d=a.Ca[c];a.Ca[c]=l;var e=d.ca;e(d.Rc,d.nb)}a.Ca=[]}};function W(a,b,c,d){this.type=a;this.ja=b;this.S=c;this.nb=d};function Jc(a){this.A=a;this.aa=[];this.wc=new Fc}function Kc(a,b,c,d){for(var e=n,f=a.aa.length-1;0<=f;f--){var h=a.aa[f];if((!b||h.type===b)&&(!c||h.ca===c)&&(!d||h.T===d))if(a.aa.splice(f,1),e=k,b&&c)break}return e}Jc.prototype.Pb=function(a,b){b=this.jc(a,b);Lc(this,b)};function Mc(a){for(var b=0;b<a.aa.length;b++){var c=a.aa[b];c.cancel&&(c.T?w(c.cancel,c.T):c.cancel)()}}
function Lc(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,h=new X(a.A.n,a.A.path);b[d].S&&(h=h.I(b[d].S));h=new P(b[d].ja,h);"value"===e.type&&!h.Cb()?f+="("+h.$()+")":"value"!==e.type&&(f+=" "+h.name());L(a.A.n.w.id+": event:"+a.A.path+":"+a.A.sa()+":"+f);for(f=0;f<a.aa.length;f++){var j=a.aa[f];b[d].type===j.type&&c.push({ca:j.T?w(j.ca,j.T):j.ca,Rc:h,nb:e.nb})}}Gc(a.wc,c)}
function Nc(a){var b=[];if(!a.ga()){var c=l;a.G(function(a,e){b.push(new W("child_added",e,a,c));c=a})}return b}function Oc(a){a.Ta||(a.Ta=k,Lc(a,[new W("value",a.f)]))};function Pc(a,b){Jc.call(this,a);this.f=b}ja(Pc,Jc);Pc.prototype.jc=function(a,b){this.f=a;this.Ta&&b.push(new W("value",this.f));return b};function Qc(a,b){this.uc=a;this.Jc=b}function Rc(a,b,c,d){var e,f=[];c===d?e=n:c.ga()&&d.ga()?e=c.i()!==d.i():c.ga()?(Sc(a,b,M,d,f),e=k):d.ga()?(Sc(a,b,c,M,f),e=k):e=Sc(a,b,c,d,f);(e=e||c.j()!==d.j())&&a.Jc(b,d,f);return e}
function Sc(a,b,c,d,e){var f=n,h=!G(a.uc,b).e(),j=[],m=[],r=[],q={},I={},s,x,t,B;s=c.Ra();t=Wa(s);x=d.Ra();for(B=Wa(x);t!==l||B!==l;){c=t===l?1:B===l?-1:t.key===B.key?0:Vb({name:t.key,ra:t.value.j()},{name:B.key,ra:B.value.j()});if(0>c)f=q[t.key],u(f)?(r.push({yc:t,Tc:j[f]}),j[f]=l):(I[t.key]=m.length,m.push(t)),f=k,t=Wa(s);else{if(0<c)f=I[B.key],u(f)?(r.push({yc:m[f],Tc:B}),m[f]=l):(q[B.key]=j.length,j.push(B)),f=k;else{c=b.I(B.key);if(c=Rc(a,c,t.value,B.value))t=d.U(B.key,B.value),e.push(new W("child_changed",
B.value,B.key,t)),f=k;t=Wa(s)}B=Wa(x)}if(!h&&f)return k}for(h=0;h<m.length;h++)if(q=m[h])c=b.I(q.key),Rc(a,c,q.value,M),e.push(new W("child_removed",q.value,q.key));for(h=0;h<j.length;h++)if(m=j[h])c=b.I(m.key),t=d.U(m.key,m.value),Rc(a,c,M,m.value),e.push(new W("child_added",m.value,m.key,t));for(h=0;h<r.length;h++)m=r[h].yc,j=r[h].Tc,c=b.I(j.key),t=d.U(j.key,j.value),e.push(new W("child_moved",j.value,j.key,t)),(c=Rc(a,c,m.value,j.value))&&e.push(new W("child_changed",j.value,j.key,t));return f}
;function Tc(a,b){Jc.call(this,a);this.f=M;this.jc(b,Nc(b))}ja(Tc,Jc);
Tc.prototype.jc=function(a,b){var c=[],d=this.A;u(this.A.La)&&c.push(function(a){return 0<=(a!==d.La?a<d.La?-1:1:0)});u(this.A.Aa)&&c.push(function(a){return 0>=(a!==d.Aa?a<d.Aa?-1:1:0)});u(this.A.xa)&&c.push(function(a,b){return 0<=Nb(b,d.xa)});u(this.A.Ba)&&c.push(function(a,b){return 0>=Nb(b,d.Ba)});var e=l,f=l;if(u(this.A.oa))if(u(this.A.xa)){if(e=Uc(a,c,this.A.oa,n)){var h=a.L(e).j();c.push(function(a,b){var c=Nb(b,h);return 0>c||0===c&&a<=e})}}else if(f=Uc(a,c,this.A.oa,k)){var j=a.L(f).j();
c.push(function(a,b){var c=Nb(b,j);return 0<c||0===c&&a>=f})}for(var m=[],r=[],q=[],I=[],s=0;s<b.length;s++){var x=b[s].S,t=b[s].ja;switch(b[s].type){case "child_added":Vc(c,x,t)&&(this.f=this.f.B(x,t),r.push(b[s]));break;case "child_removed":this.f.L(x).e()||(this.f=this.f.B(x,l),m.push(b[s]));break;case "child_changed":!this.f.L(x).e()&&Vc(c,x,t)&&(this.f=this.f.B(x,t),I.push(b[s]));break;case "child_moved":var B=!this.f.L(x).e(),Hc=Vc(c,x,t);B?Hc?(this.f=this.f.B(x,t),q.push(b[s])):(m.push(new W("child_removed",
this.f.L(x),x)),this.f=this.f.B(x,l)):Hc&&(this.f=this.f.B(x,t),r.push(b[s]))}}var Ic=e||f;if(Ic){var pd=(s=f!==l)?this.f.zc():this.f.Bc(),Db=n,Eb=n,Ga=this;(s?a.bc:a.G).call(a,function(a,b){Db?(m.push(new W("child_removed",Ga.f.L(a),a)),Ga.f=Ga.f.B(a,l)):Eb&&(r.push(new W("child_added",b,a)),Ga.f=Ga.f.B(a,b));a===pd&&(Eb=k);a===Ic&&(Db=k);if(Eb&&Db)return k})}for(s=0;s<r.length;s++)c=r[s],x=this.f.U(c.S,c.ja),m.push(new W("child_added",c.ja,c.S,x));for(s=0;s<q.length;s++)c=q[s],x=this.f.U(c.S,c.ja),
m.push(new W("child_moved",c.ja,c.S,x));for(s=0;s<I.length;s++)c=I[s],x=this.f.U(c.S,c.ja),m.push(new W("child_changed",c.ja,c.S,x));this.Ta&&0<m.length&&m.push(new W("value",this.f));return m};function Uc(a,b,c,d){var e=l;(d?a.bc:a.G).call(a,function(a,d){if(Vc(b,a,d)&&(e=a,c--,0===c))return k});return e}function Vc(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.j()))return n;return k};function Wc(a,b){this.w=a;this.g=b;this.Hc=b.Ya;this.Ma=new Oa}
Wc.prototype.yb=function(a,b,c,d,e){var f=a.path,h=G(this.Ma,f),j=h.i();j===l&&(j={},H(h,j));var m=a.sa();if(!(m in j)){j=j||{};j[m]={};var r=j,q=n;Ra(h,function(a){a.i()&&(a.i()["default"]&&a.i()["default"].J)&&(q=k)});q||(r[m].J=Xc(this,a),"default"===m&&Qa(h,function(a){a=a.i();if(a!==l)for(var b in a)if(a[b].J){a[b].J();delete a[b].J}}))}h=j[m].view;h||(h=this.g.Ya.K(f),h="default"===a.sa()?new Pc(a,h):new Tc(a,h),j[m].view=h,(a=(a=Ra(G(this.Ma,f),function(a){if(a.i()&&a.i()["default"]&&a.i()["default"].view.Ta)return k}))||
this.w===l)&&Oc(h));a=h;a.aa.push({type:b,ca:c,cancel:d,T:e});d=[];f=Nc(a.f);a.Ta&&f.push(new W("value",a.f));for(j=0;j<f.length;j++)f[j].type===b&&(m=new X(a.A.n,a.A.path),f[j].S&&(m=m.I(f[j].S)),d.push({ca:e?w(c,e):c,Rc:new P(f[j].ja,m),nb:f[j].nb}));Gc(a.wc,d)};
Wc.prototype.pb=function(a,b,c,d){var e=G(this.Ma,a.path),f=e.i();if(f!==l)if(a=a.sa(),"default"!==a)e=f[a].view,Kc(e,b,c,d),0<e.aa.length||(f[a].J&&(f[a].J(),delete f[a].J),delete f[a]);else{var a=[],h;for(h in f)Kc(f[h].view,b,c,d)&&a.push(h);for(h=0;h<a.length;h++)b=a[h],f[b]&&!(0<f[b].view.aa.length)&&(f[b].J&&("default"===b&&Yc(this,e,f[b].view.Ta),f[b].J(),delete f[b].J),delete f[b])}};function Zc(a,b,c){Qa(G(a.Ma,b),function(a){if(a=a.i())for(var b in a)Oc(a[b].view)},c,k)}
Wc.prototype.ta=function(a,b){var c=this,d=this.Hc,e=this.g.Ya;this.Hc=e;1===arguments.length&&(b=k);var f=a.toString(),h=this.Ma,j=d.K(a),m=e.K(a),h=new Qc(h,function(a,d,e){a.toString().substring(0,f.length)===f?(b&&Zc(c,a,n),c.Pb(a,d,e),b&&Zc(c,a,k)):c.Pb(a,d,e)}),r=Rc(h,a,j,m),m=j.j()!==m.j();if(r||m)for(j=a;j.parent()!==l;){var q=d.K(j),I=e.K(j),s=j.parent();if(G(h.uc,s).i()){var x=e.K(s),t=[],j=j.R<j.m.length?j.m[j.m.length-1]:l;if(q.e())q=x.U(j,I),t.push(new W("child_added",I,j,q));else if(I.e())t.push(new W("child_removed",
q,j));else if(r&&(q=x.U(j,I),t.push(new W("child_changed",I,j,q))),m)q=x.U(j,I),t.push(new W("child_moved",I,j,q)),r=k;h.Jc(s,x,t)}j=s;m=n}b&&Zc(this,a,k)};Wc.prototype.Pb=function(a,b,c){a=G(this.Ma,a).i();if(a!==l)for(var d in a)a[d].view.Pb(b,c)};function Yc(a,b,c){b.G(function(b){var e=b.i();if(e&&"default"in e)J(!e["default"].J),e["default"].J=Xc(a,e["default"].view.A);else{if(e)for(var f in e)J(!e[f].J),e[f].J=Xc(a,e[f].view.A);Yc(a,b,c)}})}
function Xc(a,b){if(a.w){var c=b.path.toString(),d=a.w,e=Ja(b),f=function(d){if("ok"!==d){Lb("on() or once() for "+c+" failed: "+d);if(d=G(a.Ma,b.path).i()){var e=b.sa();if("default"!==e)Mc(d[e].view);else for(var f in d)Mc(d[f].view)}a.pb(b)}},h=Ka(e);d.ba[c]=d.ba[c]||{};J(!d.ba[c][h],"listen() called twice for same path/queryId.");d.ba[c][h]={wd:e,D:f};d.ea&&uc(d,c,e,f);return w(a.w.Fd,a.w,c,Ja(b))}return ca};function $c(a){this.z=a;this.w=new rc(this.z,w(this.Ib,this),w(this.nd,this),w(this.pd,this));this.Vb=new Oa;this.g=new Bc;this.la=new Wc(this.w,this.g.za);this.Cc=new Ac;this.cc=new Wc(l,this.Cc);ad(this,n)}p=$c.prototype;p.toString=function(){return(this.z.sb?"https://":"http://")+this.z.host};p.name=function(){return this.z.Ea};
p.Ib=function(a,b,c){if(9<=a.length&&a.lastIndexOf(".priority")===a.length-9)a=new F(a.substring(0,a.length-9)),b!==l&&Ha.test(b)&&(b=Number(b)),c=U(this.g.tb,a).Yb(b);else if(c){var a=new F(a),c=U(this.g.tb,a),d;for(d in b)var e=O(b[d]),c=c.B(d,e)}else a=new F(a),c=O(b);b=this.g;d=a;V(b.tb,d,c);Cc(b,d)&&(a=bd(this,a),cd(this,a),a=a.path());this.la.ta(a)};p.nd=function(){ad(this,k)};p.pd=function(){ad(this,n)};function ad(a,b){var c=new F("/.info/connected");V(a.Cc,c,O(b));a.cc.ta(c)}
p.ab=function(a,b){this.w.ab(a,b)};p.wb=function(){this.w.wb()};p.Ub=function(a,b,c,d){c!==l&&Ha.test(c)&&(c=Number(c));this.c("set",{path:a.toString(),value:b});var b=O(b,c),e=this.g.set(a,b),f=this;this.w.put(a.toString(),b.$(k),function(b){var c="ok"===b;Ec(f.g,a,e);c||(Lb("set at "+a+" failed: "+b),Cc(f.g,a),b=bd(f,a),cd(f,b),f.la.ta(b.path(),n));d&&d(c)});b=bd(this,a);dd(this,a);cd(this,b);this.la.ta(b.path())};
p.update=function(a,b,c){this.c("update",{path:a.toString(),value:b});var d=U(this.g.za,a),e=k,f;for(f in b)var e=n,h=O(b[f]),d=d.B(f,h);if(e)L("update() called with empty data.  Don't do anything."),c&&c(k);else{var j=this.g.set(a,d),m=this;yc(this.w,"m",a.toString(),b,function(b){J("ok"===b||"permission_denied"===b,"merge at "+a+" failed.");b="ok"===b;Ec(m.g,a,j);c&&c(b)},i);b=bd(this,a);dd(this,a);cd(this,b);this.la.ta(b.path())}};
p.nc=function(a,b,c){this.c("setPriority",{path:a.toString(),ra:b});var d=U(this.g.W,a).Yb(b),e=this.g.set(a,d),f=this;this.w.put(a.toString()+"/.priority",b,function(b){b="ok"===b;Ec(f.g,a,e);c&&c(b)});b=bd(this,a);cd(this,b);this.la.ta(b.path())};p.Tb=function(a,b){this.w.qa(a.toString(),b)};p.yb=function(a,b,c,d,e){".info"===D(a.path)?this.cc.yb(a,b,c,d,e):this.la.yb(a,b,c,d,e)};p.pb=function(a,b,c,d){".info"===D(a.path)?this.cc.pb(a,b,c,d):this.la.pb(a,b,c,d)};p.Sa=function(){this.w.Sa()};
p.qb=function(){this.w.qb()};p.c=function(){L("r:"+this.w.id+":",arguments)};function ed(a,b){var c=new X(a,b);return new P(U(a.g.za,b),c)};function dd(a,b){var c=G(a.Vb,b);Ra(c,function(b){fd(a,b)});fd(a,c);Qa(c,function(b){fd(a,b)})}function fd(a,b){var c=b.i();if(c!==l){for(var d=-1,e=[],f=0;f<c.length;f++)if(2===c[f].status)J(d===f-1,"All SENT items should be at beginning of queue."),d=f,c[f].status=4,c[f].rc="set";else if(c[f].Xb(),c[f].D){var h=ed(a,b.path());e.push(w(c[f].D,l,n,h))}-1===d?H(b,l):c.length=d+1;for(f=0;f<e.length;f++)e[f]()}}
function gd(a,b){var c=b||a.Vb;b||hd(a,c);if(!c.e())if(c.i()!==l){var d=id(a,c);if(0!==d.length){var e=c.path();if(2!==d[0].status&&4!==d[0].status){for(var f=0;f<d.length;f++)J(1===d[f].status,"tryToSendTransactionForNode_: items in queue should all be run."),d[f].status=2,d[f].Pc++;var h=U(a.g.W,e).hash();V(a.g.W,e,U(a.g.za,e));var j=U(a.g.W,e).$(k),m=Cb();H(G(a.g.mb,e),m);a.w.put(e.toString(),j,function(b){a.c("transaction put response",{path:e.toString(),status:b});var h=G(a.g.mb,e),j=h.i();J(j!==
l,"tryToSendTransactionsForNode_: pendingPut should not be null.");j===m&&(H(h,l),V(a.g.W,e,U(a.g.tb,e)));if("ok"===b){b=[];for(f=0;f<d.length;f++)d[f].status=3,d[f].D&&(h=ed(a,d[f].path),b.push(w(d[f].D,l,k,h))),d[f].Xb();hd(a,c);gd(a);for(f=0;f<b.length;f++)b[f]()}else{if("datastale"===b)for(f=0;f<d.length;f++)d[f].status=4===d[f].status?5:1;else{Lb("transaction at "+e+" failed: "+b);for(f=0;f<d.length;f++)d[f].status=5,d[f].rc=b}b=bd(a,e);cd(a,b);a.la.ta(b.path())}},h)}}}else c.G(function(b){gd(a,
b)})}
function cd(a,b){var c=b.path();V(a.g.za,c,U(a.g.W,c));var d=id(a,b);if(0!==d.length){for(var e=U(a.g.za,c),f=[],h=0;h<d.length;h++){var j=Ma(c,d[h].path),m=n,r;J(j!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===d[h].status)m=k,r=d[h].rc;else if(1===d[h].status)if(25<=d[h].Pc)m=k,r="maxretry";else{var q=d[h].update(e.K(j).$());u(q)?(za("transaction failed: Data returned ",q),e=e.xb(j,O(q))):(m=k,r="nodata")}m&&(d[h].Xb(),d[h].status=3,d[h].D&&(m=new X(a,d[h].path),j=new P(e.K(j),
m),f.push(w(d[h].D,l,n,j,r))))}d=U(a.g.W,c).j();V(a.g.za,c,e.Yb(d));gd(a);for(h=0;h<f.length;h++)f[h]()}}function bd(a,b){for(var c,d=a.Vb;(c=D(b))!==l&&d.i()===l;)d=G(d,c),b=La(b);return d}function id(a,b){var c=[];jd(a,b,c);c.sort(function(a,b){return a.Lc-b.Lc});return c}function jd(a,b,c){var d=b.i();if(d!==l)for(var e=0;e<d.length;e++)c.push(d[e]);b.G(function(b){jd(a,b,c)})}
function hd(a,b){var c=b.i();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;H(b,0<c.length?c:l)}b.G(function(b){hd(a,b)})};function Y(){this.Ga={}}Y.Ac=function(){return Y.Dc?Y.Dc:Y.Dc=new Y};Y.prototype.Sa=function(){for(var a in this.Ga)this.Ga[a].Sa()};Y.prototype.interrupt=Y.prototype.Sa;Y.prototype.qb=function(){for(var a in this.Ga)this.Ga[a].qb()};Y.prototype.resume=Y.prototype.qb;var Z={Ad:function(){return Y.Ac().Ga}};Z.repos=Z.Ad;Z.kd=function(a){var b=N.prototype.hash;N.prototype.hash=a;return function(){N.prototype.hash=b}};Z.hijackHash=Z.kd;Z.sa=function(a){return a.sa()};Z.queryIdentifier=Z.sa;Z.md=function(a){return a.n.w.ba};Z.listens=Z.md;Z.yd=function(a){return a.n.w.ob};Z.refConnection=Z.yd;Z.Wc=rc;Z.DataConnection=Z.Wc;rc.prototype.sendRequest=rc.prototype.Ia;rc.prototype.interrupt=rc.prototype.Sa;Z.Xc=T;Z.RealTimeConnection=Z.Xc;T.prototype.sendRequest=T.prototype.mc;
T.prototype.close=T.prototype.close;Z.Vc=lb;Z.ConnectionTarget=Z.Vc;Z.hd=function(){cc=k;Wb.Gd.Hd()};Z.forceLongPolling=Z.hd;Z.Cd=function(a,b){a.n.w.kc=b};Z.setSecurityDebugCallback=Z.Cd;var kd,ld=0,md=[];kd=function(){var a=(new Date).getTime()+Pb,b=a===ld;ld=a;for(var c=Array(8),d=7;0<=d;d--)c[d]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(a%64),a=Math.floor(a/64);J(0===a);a=c.join("");if(b){for(d=11;0<=d&&63===md[d];d--)md[d]=0;md[d]++}else for(d=0;12>d;d++)md[d]=Math.floor(64*Math.random());for(d=0;12>d;d++)a+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(md[d]);J(20===a.length,"NextPushId: Length should be 20.");return a};function X(){var a,b,c;if(arguments[0]instanceof $c)c=arguments[0],a=arguments[1];else{z("new Firebase",1,2,arguments.length);a=arguments[0];var d="",e="",f=k;b="";if(v(a)){d=a.indexOf("//");0<=d&&(f="http:"!==a.substring(0,d),a=a.substring(d+2));var h=a.indexOf("/");-1===h&&(h=a.length);d=a.substring(0,h);a=a.substring(h+1);var h=a.indexOf("/"),j=d.split(".");3==j.length?("firebase"===j[1]?(Lb(d+" is deprecated. Please use <YOUR FIREBASE>.firebaseio.com instead"),0<h?(e=a.substring(0,h),b=Mb(a.substring(h))):
(e=a,b="/"),j[0]=e,j[1]="firebaseio",d=j.join(".")):(e=j[0],b=Mb("/"+a)),e=e.toLowerCase()):e=l}f||"undefined"!==typeof window&&(window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:"))&&Lb("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");a=new lb(d,f,e);b=new F(b);f=b.toString();if(!(d=!v(a.host)))if(!(d=0===a.host.length))if(!(d=!xa(a.Ea)))if(d=0!==f.length)f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),d=!(v(f)&&0!==f.length&&
!wa.test(f));d&&g(Error(A("new Firebase",1,n)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".'));arguments[1]?arguments[1]instanceof Y?c=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):c=Y.Ac();f=(a.sb?"https://":"http://")+a.host;d=c.Ga[f];d||(d=new $c(a),c.Ga[f]=d);c=d;a=b}E.call(this,c,a)}ja(X,E);var nd=X,od=["Firebase"],$=ba;!(od[0]in $)&&$.execScript&&$.execScript("var "+od[0]);
for(var qd;od.length&&(qd=od.shift());)!od.length&&u(nd)?$[qd]=nd:$=$[qd]?$[qd]:$[qd]={};Q&&(module.exports=X);X.prototype.name=function(){z("Firebase.name",0,0,arguments.length);return this.path.e()?l:this.path.R<this.path.m.length?this.path.m[this.path.m.length-1]:l};X.prototype.name=X.prototype.name;
X.prototype.I=function(a){z("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof F))if(D(this.path)===l){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Ea("Firebase.child",b)}else Ea("Firebase.child",a);return new X(this.n,this.path.I(a))};X.prototype.child=X.prototype.I;X.prototype.parent=function(){z("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return a===l?l:new X(this.n,a)};X.prototype.parent=X.prototype.parent;
X.prototype.toString=function(){z("Firebase.toString",0,0,arguments.length);var a;if(this.parent()===l)a=this.n.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};X.prototype.toString=X.prototype.toString;X.prototype.set=function(a,b){z("Firebase.set",1,2,arguments.length);Fa("Firebase.set",this.path);ya("Firebase.set",a,n);C("Firebase.set",2,b,k);return this.n.Ub(this.path,a,l,b)};X.prototype.set=X.prototype.set;
X.prototype.update=function(a,b){z("Firebase.update",1,2,arguments.length);Fa("Firebase.update",this.path);ga(a)||g(Error(A("Firebase.update",1,n)+" must be an object containing the children to replace."));ya("Firebase.update",a,n);C("Firebase.update",2,b,k);return this.n.update(this.path,a,b)};X.prototype.update=X.prototype.update;
X.prototype.Ub=function(a,b,c){z("Firebase.setWithPriority",2,3,arguments.length);Fa("Firebase.setWithPriority",this.path);ya("Firebase.setWithPriority",a,n);Ba("Firebase.setWithPriority",2,b,n);C("Firebase.setWithPriority",3,c,k);(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object.");return this.n.Ub(this.path,a,b,c)};X.prototype.setWithPriority=X.prototype.Ub;
X.prototype.remove=function(a){z("Firebase.remove",0,1,arguments.length);Fa("Firebase.remove",this.path);C("Firebase.remove",1,a,k);this.set(l,a)};X.prototype.remove=X.prototype.remove;
X.prototype.transaction=function(a,b){function c(){}z("Firebase.transaction",1,2,arguments.length);Fa("Firebase.transaction",this.path);C("Firebase.transaction",1,a,n);C("Firebase.transaction",2,b,k);(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object.");var d=this.n,e=this.path;d.c("transaction on "+e);var f=new X(d,e);f.fc("value",c);var h={path:e,update:a,D:b,Lc:Cb(),Pc:0,Xb:function(){f.Gb("value",c)}},j=d.g.za,m=h.update(U(j,
e).$());if(u(m)){za("transaction failed: Data returned ",m);var r=U(d.g.W,e).j();V(j,e,O(m,r));d.la.ta(e);h.status=1;e=G(d.Vb,e);j=e.i()||[];j.push(h);H(e,j);gd(d)}else h.Xb(),h.D&&(d=ed(d,e),h.D(n,d))};X.prototype.transaction=X.prototype.transaction;X.prototype.nc=function(a,b){z("Firebase.setPriority",1,2,arguments.length);Fa("Firebase.setPriority",this.path);Ba("Firebase.setPriority",1,a,n);C("Firebase.setPriority",2,b,k);a!==l&&Ha.test(a)&&(a=Number(a));this.n.nc(this.path,a,b)};
X.prototype.setPriority=X.prototype.nc;X.prototype.push=function(a,b){z("Firebase.push",0,2,arguments.length);Fa("Firebase.push",this.path);ya("Firebase.push",a,k);C("Firebase.push",2,b,k);var c=kd(),c=this.I(c);"undefined"!==typeof a&&a!==l&&c.set(a,b);return c};X.prototype.push=X.prototype.push;X.prototype.zd=function(){z("Firebase.removeOnDisconnect",0,0,arguments.length);this.n.Tb(this.path,l)};X.prototype.removeOnDisconnect=X.prototype.zd;
X.prototype.Tb=function(a){z("Firebase.setOnDisconnect",1,1,arguments.length);ya("Firebase.setOnDisconnect",a,n);this.n.Tb(this.path,a)};X.prototype.setOnDisconnect=X.prototype.Tb;X.prototype.ab=function(a,b){z("Firebase.auth",1,2,arguments.length);v(a)||g(Error(A("Firebase.auth",1,n)+"must be a valid credential (a string)."));C("Firebase.auth",2,b,k);this.n.ab(a,b)};X.prototype.auth=X.prototype.ab;X.prototype.wb=function(){this.n.wb()};X.prototype.unauth=X.prototype.wb;
X.enableLogging=function(a){a===k?"undefined"!==typeof console&&("function"===typeof console.log?Ib=w(console.log,console):"object"===typeof console.log&&(Ib=function(a){console.log(a)})):Ib=a?a:l};X.TEST_HOOKS=Z;X.Context=Y;
